var Kn=Object.defineProperty;var Nt=Object.getOwnPropertySymbols;var Gn=Object.prototype.hasOwnProperty,Xn=Object.prototype.propertyIsEnumerable;var at=(i,e,l)=>e in i?Kn(i,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[e]=l,Et=(i,e)=>{for(var l in e||(e={}))Gn.call(e,l)&&at(i,l,e[l]);if(Nt)for(var l of Nt(e))Xn.call(e,l)&&at(i,l,e[l]);return i};var V=(i,e,l)=>(at(i,typeof e!="symbol"?e+"":e,l),l);import{w as ve,S as q,i as K,s as G,e as _,a as p,b as T,c as m,g as W,t as k,d as F,f as g,h as y,I as De,j as H,m as A,k as U,l as C,n as X,o as Q,p as Z,q as ie,r as de,u as Jn,v as Qn,x as Yn,y as pe,z as Ee,A as we,B as ge,C as ze,D as We,E as Zn,F as xn,G as S,H as ee,J as re,K as vt,L as Me,M as ye,N as ei,O as ti,P as ue,Q as li,R as ni,T as ii,U as xe,V as ri,W as oi,X as si,Y as fn,Z as dn,_ as ai,$ as pn,a0 as he,a1 as Oe,a2 as it,a3 as Be,a4 as ci,a5 as dt,a6 as ui,a7 as Xe,a8 as Te,a9 as Le,aa as hn,ab as mn,ac as gn,ad as ct,ae as Mt,af as _n,ag as fi,ah as di,ai as pi,aj as Rt,ak as ut,al as hi,am as mi,an as gi,ao as _i}from"./vendor.49287226.js";const bi=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=l(n);fetch(n.href,r)}};bi();const Pe={programHome:{icon:"fluent:home-24-filled",colour:"success"},slack:{icon:"fluent:chat-24-filled",colour:"error"},moodle:{icon:"fluent:hat-graduation-24-filled",colour:"warning"},youtube:{icon:"fluent:video-clip-24-filled",colour:"error"},video:{icon:"fluent:video-clip-24-filled",colour:"error"},zoom:{icon:"fluent:video-24-filled",colour:"info"},teams:{icon:"logos:microsoft-teams",colour:"bg-base-content"},course:{icon:"fluent:notebook-24-filled",colour:"info"},topic:{icon:"fluent:bookmark-24-filled",colour:"info"},unit:{icon:"fluent:dual-screen-group-24-filled",colour:"success"},talk:{icon:"fluent:presenter-24-filled",colour:"info"},reference:{icon:"fluent:document-copy-24-filled",colour:"warning"},lab:{icon:"fluent:beaker-24-filled",colour:"success"},archive:{icon:"fluent:archive-24-filled",colour:"info"},web:{icon:"fluent:bookmark-24-regular",colour:"error"},github:{icon:"fluent:code-circle-20-filled",colour:"warning"},panelvideo:{icon:"fluent:video-clip-24-regular",colour:"error"},paneltalk:{icon:"fluent:presenter-24-filled",colour:"info"},note:{icon:"fluent:notepad-16-regular",colour:"warning"},panelnote:{icon:"fluent:notepad-16-regular",colour:"warning"},left:{icon:"fluent:ios-arrow-left-24-filled",colour:"success"},right:{icon:"fluent:ios-arrow-right-24-filled",colour:"success"},print:{icon:"fluent:print-24-filled",colour:"success"},rotate:{icon:"fluent:arrow-rotate-clockwise-24-filled",colour:"success"},download:{icon:"fluent:arrow-download-24-filled",colour:"success"},fullScreen:{icon:"fluent:arrow-expand-24-filled",colour:"success"},tutorsTime:{icon:"fluent:clock-alarm-24-filled",colour:"info"},timeExport:{icon:"fluent:save-arrow-right-24-filled",colour:"success"},live:{icon:"fluent:people-community-24-filled",colour:"success"},search:{icon:"fluent:search-24-filled",colour:"info"},tutors:{icon:"fa-solid:chalkboard-teacher",colour:"bg-base-content"},logout:{icon:"fluent:sign-out-24-filled",colour:"error"},dark:{icon:"fluent:dark-theme-24-filled",colour:"warning"},toc:{icon:"fluent:line-horizontal-3-20-filled",colour:"bg-base-content"},compacted:{icon:"fluent:re-order-dots-vertical-24-filled",colour:"success"},expanded:{icon:"fluent:re-order-dots-horizontal-24-filled",colour:"success"},courseinfo:{icon:"fluent:info-28-regular",colour:"bg-base-content"},calendar:{icon:"fluent:calendar-ltr-12-regular",colour:"bg-base-content"},default:{icon:"fluent:re-order-dots-vertical-24-filled",colour:"error"}},vi={title:"",type:"",date:"",dateObj:null},Se=ve(!1),kt=ve(!1),$t=ve(!1),ki=ve(vi),bn=ve(""),oe=ve(null),_e=ve(null),Je=ve(null),pt=ve(!1),$e=ve(""),Ht=ve(0);let Ue=Pe;function ht(i){Ue=i}const mt=["tutors","tutors-dark","tutors-dyslexia","black","wireframe"],gt={tutors:Pe,"tutors-dark":Pe,"tutors-dyslexia":Pe,black:Pe,wireframe:Pe};function ae(i){let e=Ue.default;return tt[i]?e=tt[i]:Ue[i]&&(e=Ue[i]),e}let tt=Ue;oe.subscribe(i=>{i&&i.lo&&i.lo.properties.iconset?tt=i.lo.properties.iconset:tt=Ue});function $i(i,e){Ue[i]=e}function wi(i){let e,l;return e=new De({props:{icon:ae(i[0]).icon,class:"text-"+ae(i[0]).colour,width:i[4],height:i[5]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.icon=ae(t[0]).icon),n&1&&(r.class="text-"+ae(t[0]).colour),n&16&&(r.width=t[4]),n&32&&(r.height=t[5]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function yi(i){let e,l,t;return l=new De({props:{icon:ae(i[0]).icon,class:"text-"+ae(i[0]).colour,width:i[4],height:i[5]}}),{c(){e=_("a"),H(l.$$.fragment),p(e,"target",i[3]),p(e,"href",i[2])},m(n,r){T(n,e,r),A(l,e,null),t=!0},p(n,r){const o={};r&1&&(o.icon=ae(n[0]).icon),r&1&&(o.class="text-"+ae(n[0]).colour),r&16&&(o.width=n[4]),r&32&&(o.height=n[5]),l.$set(o),(!t||r&8)&&p(e,"target",n[3]),(!t||r&4)&&p(e,"href",n[2])},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&y(e),U(l)}}}function Ti(i){let e,l,t,n,r;const o=[yi,wi],s=[];function a(c,h){return c[2]?0:1}return t=a(i),n=s[t]=o[t](i),{c(){e=_("div"),l=_("div"),n.c(),p(l,"class",i[7]),p(e,"data-tip",i[1]),p(e,"class",i[6])},m(c,h){T(c,e,h),m(e,l),s[t].m(l,null),r=!0},p(c,[h]){let u=t;t=a(c),t===u?s[t].p(c,h):(W(),k(s[u],1,1,()=>{s[u]=null}),F(),n=s[t],n?n.p(c,h):(n=s[t]=o[t](c),n.c()),g(n,1),n.m(l,null)),(!r||h&128)&&p(l,"class",c[7]),(!r||h&2)&&p(e,"data-tip",c[1]),(!r||h&64)&&p(e,"class",c[6])},i(c){r||(g(n),r=!0)},o(c){k(n),r=!1},d(c){c&&y(e),s[t].d()}}}function Li(i,e,l){let{type:t="default"}=e,{toolTip:n=""}=e,{link:r=""}=e,{target:o=""}=e,{button:s=!1}=e,{tipPos:a="tooltip-bottom"}=e,{width:c=20}=e,{height:h=20}=e,u="",f="";return n&&(u=`tooltip ${a} capitalize`),s&&(f="navbar-icon"),i.$$set=d=>{"type"in d&&l(0,t=d.type),"toolTip"in d&&l(1,n=d.toolTip),"link"in d&&l(2,r=d.link),"target"in d&&l(3,o=d.target),"button"in d&&l(8,s=d.button),"tipPos"in d&&l(9,a=d.tipPos),"width"in d&&l(4,c=d.width),"height"in d&&l(5,h=d.height)},[t,n,r,o,c,h,u,f,s,a]}class x extends q{constructor(e){super();K(this,e,Li,Ti,G,{type:0,toolTip:1,link:2,target:3,button:8,tipPos:9,width:4,height:5})}}function At(i,e,l){const t=i.slice();return t[1]=e[l],t}function Ut(i,e,l){const t=i.slice();return t[1]=e[l],t}function Bt(i){let e,l,t,n;return l=new x({props:{type:"video"}}),{c(){e=_("a"),H(l.$$.fragment),p(e,"class","flex pl-1 no-underline hover:underline"),p(e,"href",t=i[1].video)},m(r,o){T(r,e,o),A(l,e,null),n=!0},p(r,o){(!n||o&1&&t!==(t=r[1].video))&&p(e,"href",t)},i(r){n||(g(l.$$.fragment,r),n=!0)},o(r){k(l.$$.fragment,r),n=!1},d(r){r&&y(e),U(l)}}}function Ot(i){let e,l,t=i[1].los&&Pt(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[1].los?t?(t.p(n,r),r&1&&g(t,1)):(t=Pt(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Pt(i){let e,l,t,n=i[1].los,r=[];for(let s=0;s<n.length;s+=1)r[s]=Vt(Ut(i,n,s));const o=s=>k(r[s],1,1,()=>{r[s]=null});return{c(){e=_("div");for(let s=0;s<r.length;s+=1)r[s].c();l=C(),p(e,"class","list-none list-outside")},m(s,a){T(s,e,a);for(let c=0;c<r.length;c+=1)r[c].m(e,null);m(e,l),t=!0},p(s,a){if(a&1){n=s[1].los;let c;for(c=0;c<n.length;c+=1){const h=Ut(s,n,c);r[c]?(r[c].p(h,a),g(r[c],1)):(r[c]=Vt(h),r[c].c(),g(r[c],1),r[c].m(e,l))}for(W(),c=n.length;c<r.length;c+=1)o(c);F()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)g(r[a]);t=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)k(r[a]);t=!1},d(s){s&&y(e),ie(r,s)}}}function jt(i){let e,l,t,n;return l=new x({props:{type:"video"}}),{c(){e=_("a"),H(l.$$.fragment),p(e,"class","flex pl-1 no-underline hover:underline"),p(e,"href",t=i[1].video)},m(r,o){T(r,e,o),A(l,e,null),n=!0},p(r,o){(!n||o&1&&t!==(t=r[1].video))&&p(e,"href",t)},i(r){n||(g(l.$$.fragment,r),n=!0)},o(r){k(l.$$.fragment,r),n=!1},d(r){r&&y(e),U(l)}}}function Vt(i){let e,l,t,n,r,o=i[1].title+"",s,a,c,h;t=new x({props:{type:i[1].type}});let u=i[1].video&&i[1].type!="panelvideo"&&jt(i);return{c(){e=_("li"),l=_("a"),H(t.$$.fragment),n=C(),r=_("span"),s=X(o),c=C(),u&&u.c(),p(r,"class","pl-1"),p(l,"class","flex no-underline hover:underline"),p(l,"href",a=i[1].route),p(e,"class","ml-2 flex")},m(f,d){T(f,e,d),m(e,l),A(t,l,null),m(l,n),m(l,r),m(r,s),m(e,c),u&&u.m(e,null),h=!0},p(f,d){const v={};d&1&&(v.type=f[1].type),t.$set(v),(!h||d&1)&&o!==(o=f[1].title+"")&&Z(s,o),(!h||d&1&&a!==(a=f[1].route))&&p(l,"href",a),f[1].video&&f[1].type!="panelvideo"?u?(u.p(f,d),d&1&&g(u,1)):(u=jt(f),u.c(),g(u,1),u.m(e,null)):u&&(W(),k(u,1,1,()=>{u=null}),F())},i(f){h||(g(t.$$.fragment,f),g(u),h=!0)},o(f){k(t.$$.fragment,f),k(u),h=!1},d(f){f&&y(e),U(t),u&&u.d()}}}function Dt(i){let e,l,t,n,r,o=i[1].title+"",s,a,c,h,u,f;t=new x({props:{type:i[1].type}});let d=i[1].video&&i[1].type!="panelvideo"&&Bt(i),v=i[1].type!="lab"&&Ot(i);return{c(){e=_("div"),l=_("a"),H(t.$$.fragment),n=C(),r=_("span"),s=X(o),a=C(),d&&d.c(),h=C(),v&&v.c(),u=Q(),p(r,"class","ml-1"),p(l,"href",c=i[1].route),p(l,"class","flex")},m(b,$){T(b,e,$),m(e,l),A(t,l,null),m(l,n),m(l,r),m(r,s),m(l,a),d&&d.m(l,null),T(b,h,$),v&&v.m(b,$),T(b,u,$),f=!0},p(b,$){const w={};$&1&&(w.type=b[1].type),t.$set(w),(!f||$&1)&&o!==(o=b[1].title+"")&&Z(s,o),b[1].video&&b[1].type!="panelvideo"?d?(d.p(b,$),$&1&&g(d,1)):(d=Bt(b),d.c(),g(d,1),d.m(l,null)):d&&(W(),k(d,1,1,()=>{d=null}),F()),(!f||$&1&&c!==(c=b[1].route))&&p(l,"href",c),b[1].type!="lab"?v?(v.p(b,$),$&1&&g(v,1)):(v=Ot(b),v.c(),g(v,1),v.m(u.parentNode,u)):v&&(W(),k(v,1,1,()=>{v=null}),F())},i(b){f||(g(t.$$.fragment,b),g(d),g(v),f=!0)},o(b){k(t.$$.fragment,b),k(d),k(v),f=!1},d(b){b&&y(e),U(t),d&&d.d(),b&&y(h),v&&v.d(b),b&&y(u)}}}function Si(i){let e,l,t=i[0].toc,n=[];for(let o=0;o<t.length;o+=1)n[o]=Dt(At(i,t,o));const r=o=>k(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=Q()},m(o,s){for(let a=0;a<n.length;a+=1)n[a].m(o,s);T(o,e,s),l=!0},p(o,[s]){if(s&1){t=o[0].toc;let a;for(a=0;a<t.length;a+=1){const c=At(o,t,a);n[a]?(n[a].p(c,s),g(n[a],1)):(n[a]=Dt(c),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(W(),a=t.length;a<n.length;a+=1)r(a);F()}},i(o){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(o){ie(n,o),o&&y(e)}}}function Ci(i,e,l){let{topic:t}=e;return i.$$set=n=>{"topic"in n&&l(0,t=n.topic)},[t]}class vn extends q{constructor(e){super();K(this,e,Ci,Si,G,{topic:0})}}function zt(i,e,l){const t=i.slice();return t[1]=e[l],t}function Wt(i){let e,l,t,n,r,o=i[1].lo.title+"",s,a,c,h,u,f,d,v,b;return d=new vn({props:{topic:i[1]}}),{c(){e=_("div"),l=_("input"),n=C(),r=_("label"),s=X(o),c=C(),h=_("div"),u=_("div"),f=C(),H(d.$$.fragment),v=C(),p(l,"type","checkbox"),p(l,"name","panel"),p(l,"id",t=i[1].lo.id),p(l,"class","hidden svelte-1azxa2w"),p(r,"for",a=i[1].lo.id),p(r,"class","relative block bg-neutral text-neutral-content p-3 border-b border-base-100 svelte-1azxa2w"),p(u,"class","mt-1"),p(h,"class","accordion__content overflow-hidden bg-grey-lighter px-4 svelte-1azxa2w"),p(e,"class","w-full")},m($,w){T($,e,w),m(e,l),m(e,n),m(e,r),m(r,s),m(e,c),m(e,h),m(h,u),m(h,f),A(d,h,null),m(e,v),b=!0},p($,w){(!b||w&1&&t!==(t=$[1].lo.id))&&p(l,"id",t),(!b||w&1)&&o!==(o=$[1].lo.title+"")&&Z(s,o),(!b||w&1&&a!==(a=$[1].lo.id))&&p(r,"for",a);const L={};w&1&&(L.topic=$[1]),d.$set(L)},i($){b||(g(d.$$.fragment,$),b=!0)},o($){k(d.$$.fragment,$),b=!1},d($){$&&y(e),U(d)}}}function Ii(i){let e,l,t=i[0].topics,n=[];for(let o=0;o<t.length;o+=1)n[o]=Wt(zt(i,t,o));const r=o=>k(n[o],1,1,()=>{n[o]=null});return{c(){e=_("div");for(let o=0;o<n.length;o+=1)n[o].c();p(e,"class","accordion flex flex-col items-center justify-center")},m(o,s){T(o,e,s);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(o,[s]){if(s&1){t=o[0].topics;let a;for(a=0;a<t.length;a+=1){const c=zt(o,t,a);n[a]?(n[a].p(c,s),g(n[a],1)):(n[a]=Wt(c),n[a].c(),g(n[a],1),n[a].m(e,null))}for(W(),a=t.length;a<n.length;a+=1)r(a);F()}},i(o){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(o){o&&y(e),ie(n,o)}}}function Ni(i,e,l){let{course:t=null}=e;return i.$$set=n=>{"course"in n&&l(0,t=n.course)},[t]}class Ei extends q{constructor(e){super();K(this,e,Ni,Ii,G,{course:0})}}function Ft(i){let e,l,t,n,r,o,s,a,c,h,u,f,d,v,b,$,w,L,N,E,P,D;const J=i[7].default,M=xn(J,i,i[6],null);return{c(){e=_("nav"),l=_("div"),t=_("div"),n=_("section"),r=_("div"),o=_("div"),s=_("div"),a=_("div"),c=_("h2"),h=X(i[3]),u=C(),f=_("div"),d=_("button"),d.innerHTML=`<span class="sr-only">Close panel</span> 
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>`,v=C(),b=_("div"),M&&M.c(),p(c,"id","slide-over-heading"),p(c,"class","text-lg font-medium"),p(d,"class","bg-base-content rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),p(f,"class","ml-3 h-7 flex items-center"),p(a,"class","flex items-start justify-between"),p(s,"class","px-4 sm:px-6"),p(b,"class","mt-6 relative flex-1 px-4 sm:px-6"),p(o,"class","h-full flex flex-col py-6 bg-base-200 text-base-content shadow-xl overflow-y-scroll"),p(r,"class","w-screen max-w-md"),p(n,"class",$="absolute inset-y-0 "+i[0]+" max-w-full flex"),p(n,"aria-labelledby","slide-over-heading"),p(t,"class","absolute inset-0 overflow-hidden"),p(l,"class","fixed z-50 inset-0 overflow-hidden")},m(z,I){T(z,e,I),m(e,l),m(l,t),m(t,n),m(n,r),m(r,o),m(o,s),m(s,a),m(a,c),m(c,h),m(a,u),m(a,f),m(f,d),m(o,v),m(o,b),M&&M.m(b,null),E=!0,P||(D=de(d,"click",i[8]),P=!0)},p(z,I){i=z,(!E||I&8)&&Z(h,i[3]),M&&M.p&&(!E||I&64)&&Jn(M,J,i,i[6],E?Yn(J,i[6],I,null):Qn(i[6]),null),(!E||I&1&&$!==($="absolute inset-y-0 "+i[0]+" max-w-full flex"))&&p(n,"class",$)},i(z){E||(g(M,z),pe(()=>{L&&L.end(1),w=Ee(l,we,{x:i[1],duration:1e3}),w.start()}),pe(()=>{N||(N=ge(e,we,{x:-250,opacity:1},!0)),N.run(1)}),E=!0)},o(z){k(M,z),w&&w.invalidate(),L=ze(l,We,{}),N||(N=ge(e,we,{x:-250,opacity:1},!1)),N.run(0),E=!1},d(z){z&&y(e),M&&M.d(z),z&&L&&L.end(),z&&N&&N.end(),P=!1,D()}}}function Mi(i){let e,l,t=i[4]&&Ft(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[4]?t?(t.p(n,r),r&16&&g(t,1)):(t=Ft(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Ri(i,e,l){let t,n=S,r=()=>(n(),n=Zn(h,v=>l(4,t=v)),h);i.$$.on_destroy.push(()=>n());let{$$slots:o={},$$scope:s}=e,{origin:a="right-0 pl-10 "}=e,{direction:c=1e3}=e,{show:h}=e;r();let{title:u=""}=e;function f(){h.set(!1)}const d=()=>f();return i.$$set=v=>{"origin"in v&&l(0,a=v.origin),"direction"in v&&l(1,c=v.direction),"show"in v&&r(l(2,h=v.show)),"title"in v&&l(3,u=v.title),"$$scope"in v&&l(6,s=v.$$scope)},[a,c,h,u,t,f,s,o,d]}class wt extends q{constructor(e){super();K(this,e,Ri,Mi,G,{origin:0,direction:1,show:2,title:3})}}function qt(i){let e,l;return e=new wt({props:{title:"Course Contents",show:Se,origin:"right-0",$$slots:{default:[Hi]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&17&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Hi(i){let e,l;return e=new Ei({props:{course:i[0]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.course=t[0]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ai(i){let e,l,t=i[2]&&i[1]&&qt(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[2]&&n[1]?t?(t.p(n,r),r&6&&g(t,1)):(t=qt(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Ui(i,e,l){let t;ee(i,Se,s=>l(2,t=s));let n=null;const r=re("cache");let o=!1;return vt(()=>{l(0,n=r.course),n&&l(1,o=!0)}),[n,o,t]}class Bi extends q{constructor(e){super();K(this,e,Ui,Ai,G,{})}}function Oi(i){let e;return{c(){e=_("div"),e.innerHTML=`<div class="navbar shadow-lg bg-neutral text-neutral-content rounded-box mb-2 p-4 justify-center"><div class="flex-1"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" height="40px" viewBox="0 0 54.5 39.4" style="enable-background:new 0 0 54.5 39.4;" xml:space="preserve"><defs></defs><g><path fill="#37919B" d="M51.5,0H3C1.4,0,0,1.4,0,3v33.3c0,1.7,1.4,3,3,3h48.5c1.7,0,3-1.4,3-3V3C54.5,1.4,53.1,0,51.5,0z M50,34.8H4.5
		V4.5H50V34.8z"></path><g><rect fill="#37919B" x="29" y="26.5" width="12.1" height="4.2"></rect><g><path fill="#37919B" d="M13.4,13.5V8.7h19.1v4.8H26v17.2h-5.9V13.5H13.4z"></path></g></g></g></svg> 
      <div class="flex-1 hidden px-2 mx-2 lg:block"><p class="text-lg font-bold">Tutors Reader</p> 
        <p class="text-sm font-bold">Tutors Open Source Project</p></div></div> 
    <a href="https://tutors.dev"><div class="btn btn-ghost rounded-2xl"><a href="https://docs.tutors.dev/">Homepage</a></div></a></div> 
  <div class="bg-base-200 text-base-content rounded-box mb-2 p-20"><div class="text-center"><p class="text-4xl font-bold">Oops!</p><br/> 
      <p class="text-lg">You&#39;ve reached the tutors reader with no content - perhaps you meant to access a course?</p></div></div>`,p(e,"class","container mx-auto mt-8")},m(l,t){T(l,e,t)},p:S,i:S,o:S,d(l){l&&y(e)}}}class Kt extends q{constructor(e){super();K(this,e,null,Oi,G,{})}}function Gt(i){var o;let e,l,t=((o=i[0])==null?void 0:o.lo.properties.credits)+"",n,r;return{c(){e=_("p"),l=X("Please contact "),n=X(t),r=X(" for permission"),p(e,"class","text-lg")},m(s,a){T(s,e,a),m(e,l),m(e,n),m(e,r)},p(s,a){var c;a&1&&t!==(t=((c=s[0])==null?void 0:c.lo.properties.credits)+"")&&Z(n,t)},d(s){s&&y(e)}}}function Pi(i){let e,l,t,n,r,o,s,a,c,h,u=i[0]&&Gt(i);return{c(){e=_("div"),l=_("div"),l.innerHTML=`<div class="flex-1"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" height="40px" viewBox="0 0 54.5 39.4" style="enable-background:new 0 0 54.5 39.4;" xml:space="preserve"><defs></defs><g><path fill="#37919B" d="M51.5,0H3C1.4,0,0,1.4,0,3v33.3c0,1.7,1.4,3,3,3h48.5c1.7,0,3-1.4,3-3V3C54.5,1.4,53.1,0,51.5,0z M50,34.8H4.5
		V4.5H50V34.8z"></path><g><rect fill="#37919B" x="29" y="26.5" width="12.1" height="4.2"></rect><g><path fill="#37919B" d="M13.4,13.5V8.7h19.1v4.8H26v17.2h-5.9V13.5H13.4z"></path></g></g></g></svg> 
      <div class="flex-1 hidden px-2 mx-2 lg:block"><p class="text-lg font-bold">Tutors Reader</p> 
        <p class="text-sm font-bold">Tutors Open Source Project</p></div></div> 
    <a href="https://tutors.dev"><div class="btn btn-ghost rounded-2xl">Tutors.dev</div></a>`,t=C(),n=_("div"),r=_("div"),o=_("p"),o.textContent="Oops!",s=_("br"),a=C(),c=_("p"),c.textContent="Access to this course is restricted.",h=C(),u&&u.c(),p(l,"class","navbar shadow-lg bg-neutral text-neutral-content rounded-box mb-2 p-4 justify-center"),p(o,"class","text-4xl font-bold"),p(c,"class","text-lg"),p(r,"class","text-center"),p(n,"class","bg-base-200 text-base-content rounded-box mb-2 p-20"),p(e,"class","container mx-auto mt-8")},m(f,d){T(f,e,d),m(e,l),m(e,t),m(e,n),m(n,r),m(r,o),m(r,s),m(r,a),m(r,c),m(r,h),u&&u.m(r,null)},p(f,[d]){f[0]?u?u.p(f,d):(u=Gt(f),u.c(),u.m(r,null)):u&&(u.d(1),u=null)},i:S,o:S,d(f){f&&y(e),u&&u.d()}}}function ji(i,e,l){let t;return ee(i,oe,n=>l(0,t=n)),Me(async()=>{pt.set(!0)}),ye(async()=>{pt.set(!1)}),[t]}class Vi extends q{constructor(e){super();K(this,e,ji,Pi,G,{})}}const lt=()=>({css:i=>`transform: scale(${i}); `,easing:ti,baseScale:.5,duration:250,delay:250}),je=()=>({css:i=>`transform: scale(${i}); `,easing:ei,baseScale:.2,duration:250,delay:250}),Fe=500;function Di(i){let e,l,t,n;return{c(){e=_("img"),p(e,"loading","lazy"),p(e,"class",l="tutorscard-image "+i[1]),ue(e.src,t=i[0].img)||p(e,"src",t),p(e,"alt",n=i[0].title)},m(r,o){T(r,e,o)},p(r,o){o&2&&l!==(l="tutorscard-image "+r[1])&&p(e,"class",l),o&1&&!ue(e.src,t=r[0].img)&&p(e,"src",t),o&1&&n!==(n=r[0].title)&&p(e,"alt",n)},i:S,o:S,d(r){r&&y(e)}}}function zi(i){let e,l;return e=new De({props:{icon:i[0].icon.type,color:""+(i[3]+i[0].icon.color),height:i[2]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.icon=t[0].icon.type),n&9&&(r.color=""+(t[3]+t[0].icon.color)),n&4&&(r.height=t[2]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Wi(i){let e,l,t,n;const r=[zi,Di],o=[];function s(a,c){return a[0].icon?0:1}return e=s(i),l=o[e]=r[e](i),{c(){l.c(),t=Q()},m(a,c){o[e].m(a,c),T(a,t,c),n=!0},p(a,[c]){let h=e;e=s(a),e===h?o[e].p(a,c):(W(),k(o[h],1,1,()=>{o[h]=null}),F(),l=o[e],l?l.p(a,c):(l=o[e]=r[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){k(l),n=!1},d(a){o[e].d(a),a&&y(t)}}}function Fi(i){var e=new Option().style;return e.color=i,e.color.length>0}function qi(i,e,l){let{lo:t}=e,{miniImage:n=!1}=e,r="",o="",s="";t&&!t.icon&&t.frontMatter&&t.frontMatter.icon&&(t.icon={type:t.frontMatter.icon.type,color:t.frontMatter.icon.color}),t.icon&&(Fi(t.icon.color)||(s="#")),n&&(r="h-12",o="48");const a=$e.subscribe(c=>{n||(c==="compacted"?(l(2,o="90"),l(1,r="h-20")):(l(2,o="180"),l(1,r="h-48")))});return ye(a),i.$$set=c=>{"lo"in c&&l(0,t=c.lo),"miniImage"in c&&l(4,n=c.miniImage)},[t,r,o,s,n]}class rt extends q{constructor(e){super();K(this,e,qi,Wi,G,{lo:0,miniImage:4})}}let Ki=new li.Converter({tables:!0,openLinksInNewWindow:!0,extensions:[ni,ii({throwOnError:!1,displayMode:!1,errorColor:"red"})]});function He(i,e,l){return i.replace(new RegExp(e,"g"),l)}function Ve(i,e){let l="";if(i){let t=He(i,"./img\\/","img/");t=He(t,"img\\/",`https://${e}/img/`),t=He(t,"./archives\\/","archives/"),t=He(t,"archives\\/",`https://${e}/archives/`),t=He(t,"./archive\\/","archive/"),t=He(t,"archive\\/",`https://${e}/archive/`),t=He(t,"\\]\\(\\#",`](https://${e}#/`),l=Ki.makeHtml(t)}return l}function Xt(i){let e,l,t=i[0].video&&i[0].type!=="video"&&Jt(i);return{c(){t&&t.c(),e=C()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[0].video&&n[0].type!=="video"?t?(t.p(n,r),r&1&&g(t,1)):(t=Jt(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Jt(i){let e,l;return e=new x({props:{link:i[0].video,width:"40",height:"40",type:"video",toolTip:"Play video for this talk"}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.link=t[0].video),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Gi(i){let e,l,t,n,r=i[0].title+"",o,s,a,c,h,u,f,d,v,b,$=i[7]&&!i[7].areVideosHidden(),w,L,N=i[0].summary+"",E,P,D,J,M,z;c=new x({props:{type:i[0].type}}),f=new rt({props:{lo:i[0]}});let I=$&&Xt(i);return{c(){e=_("div"),l=_("a"),t=_("div"),n=_("h3"),o=X(r),a=C(),H(c.$$.fragment),h=C(),u=_("figure"),H(f.$$.fragment),d=C(),v=_("div"),b=_("div"),I&&I.c(),w=_("p"),L=_("div"),p(n,"class",s="card-title "+i[2]),p(t,"class",i[6]),p(u,"class","flex justify-center"),p(L,"class",E=i[3]+" prose"),p(b,"class","tutorscard-body"),p(v,"class","card-body"),p(l,"href",P=i[0].route),p(l,"target",i[1]),p(e,"class",J=i[5]+" "+i[4]+" border-"+ae(i[0].type).colour)},m(B,j){T(B,e,j),m(e,l),m(l,t),m(t,n),m(n,o),m(t,a),A(c,t,null),m(l,h),m(l,u),A(f,u,null),m(l,d),m(l,v),m(v,b),I&&I.m(b,null),m(b,w),m(b,L),L.innerHTML=N,z=!0},p(B,[j]){(!z||j&1)&&r!==(r=B[0].title+"")&&Z(o,r),(!z||j&4&&s!==(s="card-title "+B[2]))&&p(n,"class",s);const R={};j&1&&(R.type=B[0].type),c.$set(R),(!z||j&64)&&p(t,"class",B[6]);const O={};j&1&&(O.lo=B[0]),f.$set(O),j&128&&($=B[7]&&!B[7].areVideosHidden()),$?I?(I.p(B,j),j&128&&g(I,1)):(I=Xt(B),I.c(),g(I,1),I.m(b,w)):I&&(W(),k(I,1,1,()=>{I=null}),F()),(!z||j&1)&&N!==(N=B[0].summary+"")&&(L.innerHTML=N),(!z||j&8&&E!==(E=B[3]+" prose"))&&p(L,"class",E),(!z||j&1&&P!==(P=B[0].route))&&p(l,"href",P),(!z||j&2)&&p(l,"target",B[1]),(!z||j&49&&J!==(J=B[5]+" "+B[4]+" border-"+ae(B[0].type).colour))&&p(e,"class",J)},i(B){z||(g(c.$$.fragment,B),g(f.$$.fragment,B),g(I),D||pe(()=>{D=Ee(l,We,{duration:800}),D.start()}),pe(()=>{M||(M=ge(e,lt,{},!0)),M.run(1)}),z=!0)},o(B){k(c.$$.fragment,B),k(f.$$.fragment,B),k(I),M||(M=ge(e,lt,{},!1)),M.run(0),z=!1},d(B){B&&y(e),U(c),U(f),I&&I.d(),B&&M&&M.end()}}}function Xi(i,e,l){let t;ee(i,oe,f=>l(7,t=f));let{lo:n}=e,r="";n.type==="web"&&n.route.startsWith("http")&&(r="_blank"),n&&(n.type=="video"&&(n.route=n.video),n.summary=Ve(n.summary,""));let o="",s="",a="",c="tutorscard",h="tutorscard-header";const u=$e.subscribe(f=>{f==="compacted"?(l(2,o="text-xs font-medium"),l(3,s="text-xs"),l(4,a="w-32 h-56"),l(5,c="tutorscard-compact"),l(6,h="tutorscard-header-compact")):(l(2,o="text-md font-normal"),l(3,s="text-sm"),l(4,a="w-60"),l(5,c="tutorscard"),l(6,h="tutorscard-header"))});return ye(u),i.$$set=f=>{"lo"in f&&l(0,n=f.lo)},[n,r,o,s,a,c,h,t]}class kn extends q{constructor(e){super();K(this,e,Xi,Gi,G,{lo:0})}}function Qt(i,e,l){const t=i.slice();return t[3]=e[l],t}function Yt(i,e,l){const t=i.slice();return t[3]=e[l],t}function Zt(i){let e,l,t,n,r=i[1],o=[];for(let u=0;u<r.length;u+=1)o[u]=xt(Yt(i,r,u));const s=u=>k(o[u],1,1,()=>{o[u]=null});let a=i[2],c=[];for(let u=0;u<a.length;u+=1)c[u]=el(Qt(i,a,u));const h=u=>k(c[u],1,1,()=>{c[u]=null});return{c(){e=_("div"),l=_("div");for(let u=0;u<o.length;u+=1)o[u].c();t=C();for(let u=0;u<c.length;u+=1)c[u].c();p(l,"class","flex flex-wrap justify-center"),p(e,"class","carddeck-bg")},m(u,f){T(u,e,f),m(e,l);for(let d=0;d<o.length;d+=1)o[d].m(l,null);m(l,t);for(let d=0;d<c.length;d+=1)c[d].m(l,null);n=!0},p(u,f){if(f&2){r=u[1];let d;for(d=0;d<r.length;d+=1){const v=Yt(u,r,d);o[d]?(o[d].p(v,f),g(o[d],1)):(o[d]=xt(v),o[d].c(),g(o[d],1),o[d].m(l,t))}for(W(),d=r.length;d<o.length;d+=1)s(d);F()}if(f&4){a=u[2];let d;for(d=0;d<a.length;d+=1){const v=Qt(u,a,d);c[d]?(c[d].p(v,f),g(c[d],1)):(c[d]=el(v),c[d].c(),g(c[d],1),c[d].m(l,null))}for(W(),d=a.length;d<c.length;d+=1)h(d);F()}},i(u){if(!n){for(let f=0;f<r.length;f+=1)g(o[f]);for(let f=0;f<a.length;f+=1)g(c[f]);n=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)k(c[f]);n=!1},d(u){u&&y(e),ie(o,u),ie(c,u)}}}function xt(i){let e,l;return e=new kn({props:{lo:i[3]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p:S,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function el(i){let e,l;return e=new kn({props:{lo:i[3]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p:S,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ji(i){let e,l,t=i[0].length&&Zt(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[0].length?t?(t.p(n,r),r&1&&g(t,1)):(t=Zt(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Qi(i,e,l){let{los:t=[]}=e,n=t.filter(o=>{var s;return(s=o==null?void 0:o.frontMatter)==null?void 0:s.order}),r=t.filter(o=>{var s;return!((s=o==null?void 0:o.frontMatter)==null?void 0:s.order)});return n.sort((o,s)=>o.frontMatter.order-s.frontMatter.order),i.$$set=o=>{"los"in o&&l(0,t=o.los)},[t,n,r]}class Ye extends q{constructor(e){super();K(this,e,Qi,Ji,G,{los:0})}}function tl(i){let e,l,t,n,r=i[0].title+"",o;function s(h,u){return h[1]?xi:h[2]?Zi:Yi}let a=s(i),c=a(i);return{c(){e=_("div"),c.c(),l=_("br"),t=C(),n=_("p"),o=X(r),p(n,"class","text-lg italic justify-center"),p(e,"class","videocard-container")},m(h,u){T(h,e,u),c.m(e,null),m(e,l),m(e,t),m(e,n),m(n,o)},p(h,u){a===(a=s(h))&&c?c.p(h,u):(c.d(1),c=a(h),c&&(c.c(),c.m(e,l))),u&1&&r!==(r=h[0].title+"")&&Z(o,r)},d(h){h&&y(e),c.d()}}}function Yi(i){let e;function l(r,o){return r[8]?tr:er}let n=l(i)(i);return{c(){n.c(),e=C()},m(r,o){n.m(r,o),T(r,e,o)},p(r,o){n.p(r,o)},d(r){n.d(r),r&&y(e)}}}function Zi(i){let e,l,t,n;return{c(){e=_("iframe"),n=C(),p(e,"title",l=i[0].title),ue(e.src,t="https://vimp.oth-regensburg.de/media/embed?key="+i[3]+"&autoplay=false&controls=true")||p(e,"src",t),p(e,"class","iframeLoaded"),e.allowFullscreen="allowfullscreen",p(e,"width","720"),p(e,"height","405"),p(e,"allowtransparency","true"),p(e,"aria-label","media embed code")},m(r,o){T(r,e,o),T(r,n,o)},p(r,o){o&1&&l!==(l=r[0].title)&&p(e,"title",l),o&8&&!ue(e.src,t="https://vimp.oth-regensburg.de/media/embed?key="+r[3]+"&autoplay=false&controls=true")&&p(e,"src",t)},d(r){r&&y(e),r&&y(n)}}}function xi(i){let e,l=i[5]&&ll(i);return{c(){l&&l.c(),e=C()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,n){t[5]?l?l.p(t,n):(l=ll(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&y(e)}}}function er(i){let e,l,t,n;return{c(){e=_("div"),l=_("iframe"),p(l,"title",t=i[0].title),p(l,"class","absolute inset-0 w-full h-full"),ue(l.src,n="https://www.youtube.com/embed/"+i[7])||p(l,"src",n),p(l,"allow","encrypted-media"),l.allowFullscreen=!0,p(l,"uk-responsive",""),p(e,"class","relative aspect-video"),ri(e,"padding-top","40%")},m(r,o){T(r,e,o),m(e,l)},p(r,o){o&1&&t!==(t=r[0].title)&&p(l,"title",t)},d(r){r&&y(e)}}}function tr(i){let e,l,t;return{c(){e=_("iframe"),p(e,"title",l=i[0].title),p(e,"class","relative w-full p-2 aspect-video"),ue(e.src,t="https://www.youtube.com/embed/"+i[7])||p(e,"src",t),p(e,"allow","encrypted-media"),e.allowFullscreen=!0,p(e,"uk-responsive","")},m(n,r){T(n,e,r)},p(n,r){r&1&&l!==(l=n[0].title)&&p(e,"title",l)},d(n){n&&y(e)}}}function ll(i){let e,l,t,n;return{c(){e=_("vime-player"),l=_("vime-hls"),t=_("source"),p(t,"data-src",n="https://media.heanet.ie/m3u8/"+i[4]),p(t,"type","application/x-mpegURL"),xe(l,"version","latest"),xe(l,"cross-origin","true"),xe(e,"controls",""),xe(e,"cross-origin","true")},m(r,o){T(r,e,o),m(e,l),m(l,t)},p(r,o){o&16&&n!==(n="https://media.heanet.ie/m3u8/"+r[4])&&p(t,"data-src",n)},d(r){r&&y(e)}}}function lr(i){let e=i[6]&&!i[6].areVideosHidden(),l,t=e&&tl(i);return{c(){t&&t.c(),l=Q()},m(n,r){t&&t.m(n,r),T(n,l,r)},p(n,[r]){r&64&&(e=n[6]&&!n[6].areVideosHidden()),e?t?t.p(n,r):(t=tl(n),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},i:S,o:S,d(n){t&&t.d(n),n&&y(l)}}}function nr(i,e,l){let t;ee(i,oe,d=>l(6,t=d));let{lo:n}=e,r=!1,o=!1,s="",a="";const c=n.video.split("/");let h=c.pop()||c.pop(),u=navigator.userAgent.indexOf("Firefox")!=-1;n&&n.type==="panelvideo"&&(n.icon={type:ae("video").icon,color:ae("video").colour}),n.videoids&&n.videoids.videoIds.length>0&&(n.videoids.videoIds[n.videoids.videoIds.length-1].service==="heanet"?(r=!0,a=n.videoids.videoIds[n.videoids.videoIds.length-1].id,n.type==="panelvideo"&&n.parent.lo.img):n.videoids.videoIds[n.videoids.videoIds.length-1].service==="vimp"&&(o=!0,s=n.videoids.videoIds[n.videoids.videoIds.length-1].id));let f=!1;return setTimeout(()=>{l(5,f=!0)},Fe),i.$$set=d=>{"lo"in d&&l(0,n=d.lo)},[n,r,o,s,a,f,t,h,u]}class Ze extends q{constructor(e){super();K(this,e,nr,lr,G,{lo:0})}}function ir(i){let e,l,t;return l=new ai({props:{size:"280",color:"#FF3E00",unit:"px"}}),{c(){e=_("div"),H(l.$$.fragment),p(e,"class","flex flex-col justify-center items-center mt-28")},m(n,r){T(n,e,r),A(l,e,null),t=!0},p:S,i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&y(e),U(l)}}}function rr(i){let e,l,t,n,r,o=i[3].numPages+"",s,a,c,h,u,f,d,v,b,$,w,L,N,E,P,D,J,M,z,I,B;return u=new x({props:{button:"true",type:"left",tipPos:"tooltip-bottom",toolTip:"Previous Slide"}}),v=new x({props:{button:"true",type:"right",tipPos:"tooltip-bottom",toolTip:"Next Slide"}}),w=new x({props:{button:"true",type:"rotate",tipPos:"tooltip-bottom",toolTip:"Rotate 90 Degrees"}}),E=new x({props:{type:"download",button:"true",toolTip:"download",tipPos:"tooltip-bottom"}}),D=new x({props:{button:"true",link:i[1].pdf,type:"fullScreen",toolTip:"Full Screen",tipPos:"tooltip-bottom",target:"_blank"}}),{c(){e=_("div"),l=_("div"),t=_("div"),n=X(i[0]),r=X(" of "),s=X(o),a=C(),c=_("div"),h=_("button"),H(u.$$.fragment),f=C(),d=_("button"),H(v.$$.fragment),b=C(),$=_("button"),H(w.$$.fragment),L=C(),N=_("button"),H(E.$$.fragment),P=C(),H(D.$$.fragment),J=C(),M=_("canvas"),p(t,"class","text-sm"),p(l,"class","flex justify-between items-center mx-2"),p(M,"class","w-full 2xl:w-4/5 mx-auto"),p(e,"class","talkcard-container")},m(j,R){T(j,e,R),m(e,l),m(l,t),m(t,n),m(t,r),m(t,s),m(l,a),m(l,c),m(c,h),A(u,h,null),m(c,f),m(c,d),A(v,d,null),m(c,b),m(c,$),A(w,$,null),m(c,L),m(c,N),A(E,N,null),m(c,P),A(D,c,null),m(e,J),m(e,M),i[10](M),z=!0,I||(B=[de(h,"click",i[4]),de(d,"click",i[5]),de($,"click",i[6]),de(N,"click",i[7])],I=!0)},p(j,R){(!z||R&1)&&Z(n,j[0]),(!z||R&8)&&o!==(o=j[3].numPages+"")&&Z(s,o);const O={};R&2&&(O.link=j[1].pdf),D.$set(O)},i(j){z||(g(u.$$.fragment,j),g(v.$$.fragment,j),g(w.$$.fragment,j),g(E.$$.fragment,j),g(D.$$.fragment,j),z=!0)},o(j){k(u.$$.fragment,j),k(v.$$.fragment,j),k(w.$$.fragment,j),k(E.$$.fragment,j),k(D.$$.fragment,j),z=!1},d(j){j&&y(e),U(u),U(v),U(w),U(E),U(D),i[10](null),I=!1,pn(B)}}}function or(i){let e,l,t,n;const r=[rr,ir],o=[];function s(a,c){return a[3]?0:1}return e=s(i),l=o[e]=r[e](i),{c(){l.c(),t=Q()},m(a,c){o[e].m(a,c),T(a,t,c),n=!0},p(a,[c]){let h=e;e=s(a),e===h?o[e].p(a,c):(W(),k(o[h],1,1,()=>{o[h]=null}),F(),l=o[e],l?l.p(a,c):(l=o[e]=r[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){k(l),n=!1},d(a){o[e].d(a),a&&y(t)}}}function sr(i,e,l){let{url:t}=e,{scale:n=1.8}=e,{pageNum:r=1}=e,{lo:o=null}=e;t=o.pdf;let s,a=null,c=!1,h=null,u=0,f,d,v=[];const b=M=>{c=!0,a.getPage(M).then(function(z){let I=z.getViewport({scale:n,rotation:u});const B=s.getContext("2d");l(2,s.height=I.height,s),l(2,s.width=I.width,s);let j={canvasContext:B,viewport:I};z.render(j).promise.then(function(){if(c=!1,h!==null){if(r<a.totalPage)v[r]=s,l(0,r++,r),a.getPage(r).then(b);else for(let O=1;O<v.length;O++)s.appendChild(v[O]);h=null}})})},$=M=>{c?h=M:b(M)},w=()=>{r<=1||(l(0,r--,r),$(r))},L=()=>{r>=a.numPages||(l(0,r++,r),$(r))},N=()=>{u=u+90,$(r)},E=()=>{let M=t.substring(t.lastIndexOf("/")+1);oi.saveAs(t,M)};(async()=>{window.addEventListener("keydown",D),si.exports.getDocument({url:t}).promise.then(async function(z){l(3,a=z),await fn(),b(r)}).catch(function(z){})})(),ye(()=>{clearInterval(f),clearInterval(d),window.removeEventListener("keypress",D)});function D(M){M.key==="ArrowRight"?(M.preventDefault(),L()):M.key==="ArrowLeft"&&(M.preventDefault(),w())}function J(M){dn[M?"unshift":"push"](()=>{s=M,l(2,s)})}return i.$$set=M=>{"url"in M&&l(8,t=M.url),"scale"in M&&l(9,n=M.scale),"pageNum"in M&&l(0,r=M.pageNum),"lo"in M&&l(1,o=M.lo)},[r,o,s,a,w,L,N,E,t,n,J]}class yt extends q{constructor(e){super();K(this,e,sr,or,G,{url:8,scale:9,pageNum:0,lo:1})}}function ar(i){const e=/(<h([1-6]).*?id="([^"]*?)".*?>(.+?)<\/h[1-6]>)|(<p>\[toc\]<\/p>)/g,l=[];i.replace(e,(n,r,o,s,a)=>{if(n==="<p>[toc]</p>")l.push({type:"toc"});else{a=a.replace(/<[^>]+>/g,"");const c={anchor:s,level:Number(o),text:a};l.push(Et({type:"header"},c))}return""});const t=[];return l.forEach(({type:n},r)=>{if(n==="toc")if(l[r+1]&&l[r+1].type==="header"){const o=[],{level:s}=l[r+1];for(let a=r+1;a<l.length&&l[a].type!=="toc";a++){const{level:c}=l[a];c===s&&o.push(l[a])}t.push(o)}else t.push([])}),i=i.replace(/<p>\[toc\]<\/p>[\n]*/g,()=>{const n=t.shift();return n&&n.length?`<ol>${n.map(({text:o,anchor:s})=>`<li><a style="cursor: pointer;" onClick="document.getElementById('${s}').scrollIntoView({ behavior: 'smooth', block: 'center' });">${o}</a></li>`).join("")}</ol>
`:""}),i}function cr(i){let e;return{c(){e=_("article"),p(e,"class","notecontent")},m(l,t){T(l,e,t),e.innerHTML=i[0]},p(l,[t]){t&1&&(e.innerHTML=l[0])},i:S,o:S,d(l){l&&y(e)}}}function ur(i,e,l){let{lo:t}=e,n="";const r=t.route.replace("/#/note/","");return n=Ve(t.contentMd,r),n=ar(n),i.$$set=o=>{"lo"in o&&l(1,t=o.lo)},[n,t]}class $n extends q{constructor(e){super();K(this,e,ur,cr,G,{lo:1})}}function nl(i,e,l){const t=i.slice();return t[8]=e[l],t}function il(i,e,l){const t=i.slice();return t[8]=e[l],t}function rl(i,e,l){const t=i.slice();return t[8]=e[l],t}function ol(i){let e,l;return e=new Ze({props:{lo:i[8]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p:S,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function sl(i){let e,l;return e=new yt({props:{lo:i[8]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p:S,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function al(i){let e,l;return e=new $n({props:{lo:i[8]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p:S,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function fr(i){let e,l,t,n=i[0].title+"",r,o,s,a,c,h,u,f,d,v,b,$;c=new rt({props:{lo:i[2].lo,miniImage:!0}});let w=i[3],L=[];for(let I=0;I<w.length;I+=1)L[I]=ol(rl(i,w,I));const N=I=>k(L[I],1,1,()=>{L[I]=null});let E=i[4],P=[];for(let I=0;I<E.length;I+=1)P[I]=sl(il(i,E,I));const D=I=>k(P[I],1,1,()=>{P[I]=null});let J=i[5],M=[];for(let I=0;I<J.length;I+=1)M[I]=al(nl(i,J,I));const z=I=>k(M[I],1,1,()=>{M[I]=null});return b=new Ye({props:{los:i[6]}}),{c(){e=_("div"),l=_("div"),t=_("h2"),r=X(n),a=C(),H(c.$$.fragment),h=C(),u=_("div");for(let I=0;I<L.length;I+=1)L[I].c();f=C();for(let I=0;I<P.length;I+=1)P[I].c();d=C();for(let I=0;I<M.length;I+=1)M[I].c();v=C(),H(b.$$.fragment),p(t,"id",o=i[0].id),p(t,"class",s="p-2 "+i[1]),p(l,"class","flex justify-between w-full"),p(u,"class","flex flex-wrap justify-center"),p(e,"class","unitcard-container")},m(I,B){T(I,e,B),m(e,l),m(l,t),m(t,r),m(l,a),A(c,l,null),m(e,h),m(e,u);for(let j=0;j<L.length;j+=1)L[j].m(u,null);m(u,f);for(let j=0;j<P.length;j+=1)P[j].m(u,null);m(u,d);for(let j=0;j<M.length;j+=1)M[j].m(u,null);m(u,v),A(b,u,null),$=!0},p(I,[B]){(!$||B&1)&&n!==(n=I[0].title+"")&&Z(r,n),(!$||B&1&&o!==(o=I[0].id))&&p(t,"id",o),(!$||B&2&&s!==(s="p-2 "+I[1]))&&p(t,"class",s);const j={};if(B&4&&(j.lo=I[2].lo),c.$set(j),B&8){w=I[3];let R;for(R=0;R<w.length;R+=1){const O=rl(I,w,R);L[R]?(L[R].p(O,B),g(L[R],1)):(L[R]=ol(O),L[R].c(),g(L[R],1),L[R].m(u,f))}for(W(),R=w.length;R<L.length;R+=1)N(R);F()}if(B&16){E=I[4];let R;for(R=0;R<E.length;R+=1){const O=il(I,E,R);P[R]?(P[R].p(O,B),g(P[R],1)):(P[R]=sl(O),P[R].c(),g(P[R],1),P[R].m(u,d))}for(W(),R=E.length;R<P.length;R+=1)D(R);F()}if(B&32){J=I[5];let R;for(R=0;R<J.length;R+=1){const O=nl(I,J,R);M[R]?(M[R].p(O,B),g(M[R],1)):(M[R]=al(O),M[R].c(),g(M[R],1),M[R].m(u,v))}for(W(),R=J.length;R<M.length;R+=1)z(R);F()}},i(I){if(!$){g(c.$$.fragment,I);for(let B=0;B<w.length;B+=1)g(L[B]);for(let B=0;B<E.length;B+=1)g(P[B]);for(let B=0;B<J.length;B+=1)g(M[B]);g(b.$$.fragment,I),$=!0}},o(I){k(c.$$.fragment,I),L=L.filter(Boolean);for(let B=0;B<L.length;B+=1)k(L[B]);P=P.filter(Boolean);for(let B=0;B<P.length;B+=1)k(P[B]);M=M.filter(Boolean);for(let B=0;B<M.length;B+=1)k(M[B]);k(b.$$.fragment,I),$=!1},d(I){I&&y(e),U(c),ie(L,I),ie(P,I),ie(M,I),U(b)}}}function dr(i,e,l){let t;ee(i,oe,u=>l(2,t=u));let{unit:n}=e;const r=n.los.filter(u=>u.type=="panelvideo"),o=n.los.filter(u=>u.type=="paneltalk"),s=n.los.filter(u=>u.type=="panelnote"),a=n.los.filter(u=>u.type!="panelvideo"&&u.type!="paneltalk"&&u.type!="panelnote");let c="text-xl font-bold";const h=$e.subscribe(u=>{u==="compacted"?l(1,c="text-l font-normal"):l(1,c="text-xl font-normal")});return ye(h),i.$$set=u=>{"unit"in u&&l(0,n=u.unit)},[n,c,t,r,o,s,a]}class wn extends q{constructor(e){super();K(this,e,dr,fr,G,{unit:0})}}function cl(i,e,l){const t=i.slice();return t[11]=e[l],t}function pr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function hr(i){let e,l,t=!i[3]&&ul(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[3]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&8&&g(t,1)):(t=ul(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function ul(i){let e,l,t,n,r,o=i[4].units,s=[];for(let f=0;f<o.length;f+=1)s[f]=fl(cl(i,o,f));const a=f=>k(s[f],1,1,()=>{s[f]=null}),c=[gr,mr],h=[];function u(f,d){return f[2]?0:1}return l=u(i),t=h[l]=c[l](i),{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=C(),t.c(),n=Q()},m(f,d){for(let v=0;v<s.length;v+=1)s[v].m(f,d);T(f,e,d),h[l].m(f,d),T(f,n,d),r=!0},p(f,d){if(d&33){o=f[4].units;let b;for(b=0;b<o.length;b+=1){const $=cl(f,o,b);s[b]?(s[b].p($,d),g(s[b],1)):(s[b]=fl($),s[b].c(),g(s[b],1),s[b].m(e.parentNode,e))}for(W(),b=o.length;b<s.length;b+=1)a(b);F()}let v=l;l=u(f),l===v?h[l].p(f,d):(W(),k(h[v],1,1,()=>{h[v]=null}),F(),t=h[l],t?t.p(f,d):(t=h[l]=c[l](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){if(!r){for(let d=0;d<o.length;d+=1)g(s[d]);g(t),r=!0}},o(f){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)k(s[d]);k(t),r=!1},d(f){ie(s,f),f&&y(e),h[l].d(f),f&&y(n)}}}function fl(i){let e,l;return e=new wn({props:{unit:i[11]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.unit=t[11]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function mr(i){let e,l;return e=new Ye({props:{los:i[4].allLos}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.los=t[4].allLos),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function gr(i){let e,l;return e=new Ye({props:{los:i[4].standardLos}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.los=t[4].standardLos),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function _r(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function br(i){let e,l,t,n,r;document.title=e=i[1];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:_r,then:hr,catch:pr,value:4,blocks:[,,,]};return he(n=i[5](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&2)&&e!==(e=i[1])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[5](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function vr(i,e,l){let{params:t={}}=e,n=null;const r=re("cache"),o=re("analytics");let s="",a=!0,c="",h="",u=!0;window.addEventListener("keydown",d);async function f(v){return Se.set(!1),l(4,n=await r.fetchCourse(v)),l(3,u=!0),setTimeout(()=>{l(3,u=!1),_e.set(n.lo),l(1,s=n.lo.title),o.pageLoad(v,n,n.lo),n.lo.properties.ignorepin&&(h=""+n.lo.properties.ignorepin)},Fe),n}function d(v){c=c.concat(v.key),c===h&&(n.showAllLos(),l(4,n.standardLos=n.allLos,n),l(2,a=!1))}return ye(async()=>{window.removeEventListener("keydown",d)}),it(async()=>{Be({delay:200,element:"#top"})}),i.$$set=v=>{"params"in v&&l(0,t=v.params)},[t,s,a,u,n,f]}class kr extends q{constructor(e){super();K(this,e,vr,br,G,{params:0})}}function dl(i,e,l){const t=i.slice();return t[10]=e[l],t}function pl(i,e,l){const t=i.slice();return t[13]=e[l],t}function hl(i,e,l){const t=i.slice();return t[13]=e[l],t}function $r(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function wr(i){let e,l,t=!i[2]&&ml(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[2]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&4&&g(t,1)):(t=ml(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function ml(i){let e,l,t,n,r,o,s=i[4].panelVideos,a=[];for(let $=0;$<s.length;$+=1)a[$]=gl(hl(i,s,$));const c=$=>k(a[$],1,1,()=>{a[$]=null});let h=i[4].panelTalks,u=[];for(let $=0;$<h.length;$+=1)u[$]=_l(pl(i,h,$));const f=$=>k(u[$],1,1,()=>{u[$]=null});let d=i[4].units,v=[];for(let $=0;$<d.length;$+=1)v[$]=bl(dl(i,d,$));const b=$=>k(v[$],1,1,()=>{v[$]=null});return r=new Ye({props:{los:i[4].standardLos}}),{c(){e=_("div");for(let $=0;$<a.length;$+=1)a[$].c();l=C();for(let $=0;$<u.length;$+=1)u[$].c();t=C();for(let $=0;$<v.length;$+=1)v[$].c();n=C(),H(r.$$.fragment),p(e,"class",i[3])},m($,w){T($,e,w);for(let L=0;L<a.length;L+=1)a[L].m(e,null);m(e,l);for(let L=0;L<u.length;L+=1)u[L].m(e,null);m(e,t);for(let L=0;L<v.length;L+=1)v[L].m(e,null);m(e,n),A(r,e,null),o=!0},p($,w){if(w&33){s=$[4].panelVideos;let N;for(N=0;N<s.length;N+=1){const E=hl($,s,N);a[N]?(a[N].p(E,w),g(a[N],1)):(a[N]=gl(E),a[N].c(),g(a[N],1),a[N].m(e,l))}for(W(),N=s.length;N<a.length;N+=1)c(N);F()}if(w&33){h=$[4].panelTalks;let N;for(N=0;N<h.length;N+=1){const E=pl($,h,N);u[N]?(u[N].p(E,w),g(u[N],1)):(u[N]=_l(E),u[N].c(),g(u[N],1),u[N].m(e,t))}for(W(),N=h.length;N<u.length;N+=1)f(N);F()}if(w&33){d=$[4].units;let N;for(N=0;N<d.length;N+=1){const E=dl($,d,N);v[N]?(v[N].p(E,w),g(v[N],1)):(v[N]=bl(E),v[N].c(),g(v[N],1),v[N].m(e,n))}for(W(),N=d.length;N<v.length;N+=1)b(N);F()}const L={};w&1&&(L.los=$[4].standardLos),r.$set(L),(!o||w&8)&&p(e,"class",$[3])},i($){if(!o){for(let w=0;w<s.length;w+=1)g(a[w]);for(let w=0;w<h.length;w+=1)g(u[w]);for(let w=0;w<d.length;w+=1)g(v[w]);g(r.$$.fragment,$),o=!0}},o($){a=a.filter(Boolean);for(let w=0;w<a.length;w+=1)k(a[w]);u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)k(u[w]);v=v.filter(Boolean);for(let w=0;w<v.length;w+=1)k(v[w]);k(r.$$.fragment,$),o=!1},d($){$&&y(e),ie(a,$),ie(u,$),ie(v,$),U(r)}}}function gl(i){let e,l;return e=new Ze({props:{lo:i[13]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.lo=t[13]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function _l(i){let e,l;return e=new yt({props:{lo:i[13]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.lo=t[13]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function bl(i){let e,l,t;return l=new wn({props:{unit:i[10]}}),{c(){e=_("div"),H(l.$$.fragment),p(e,"class","mt-2")},m(n,r){T(n,e,r),A(l,e,null),t=!0},p(n,r){const o={};r&1&&(o.unit=n[10]),l.$set(o)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&y(e),U(l)}}}function yr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Tr(i){let e,l,t,n,r;document.title=e=i[1];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:yr,then:wr,catch:$r,value:4,blocks:[,,,]};return he(n=i[5](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&2)&&e!==(e=i[1])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[5](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function Lr(i,e,l){let{params:t={}}=e;const n=re("cache"),r=re("analytics");let o=null,s="",a="",c=!0;setTimeout(function(){l(2,c=!1)},Fe);async function h(d){Se.set(!1),s="";let v=d.indexOf("/unit");if(v!==-1&&(s=d.substr(v+1),d=d.substr(0,v)),l(4,o=await n.fetchTopic(d)),v!==-1){let b=o.lo.los.filter($=>$.id==s);_e.set(b[0])}else _e.set(o.lo),l(1,a=o.lo.title),s="";return r.pageLoad(t.wild,n.course,o.lo),o}it(async()=>{s?(await fn(),Be({delay:500,element:"#"+s})):Be({delay:200,element:"#top"})});let u="";const f=$e.subscribe(d=>{d==="compacted"?l(3,u="grid grid-cols-2 gap-2 "):l(3,u="")});return ye(f),i.$$set=d=>{"params"in d&&l(0,t=d.params)},[t,a,c,u,o,h]}class Sr extends q{constructor(e){super();K(this,e,Lr,Tr,G,{params:0})}}function Cr(i){let e,l,t,n=i[0].lo.title+"",r,o,s,a,c,h,u,f,d,v,b,$;return c=new rt({props:{lo:i[0].lo}}),d=new vn({props:{topic:i[0]}}),{c(){e=_("div"),l=_("div"),t=_("h3"),r=X(n),s=C(),a=_("figure"),H(c.$$.fragment),h=C(),u=_("div"),f=_("div"),H(d.$$.fragment),p(t,"class",o="card-title "+i[1]),p(l,"class","topicnavigator-title"),p(a,"class","flex justify-center"),p(f,"class",v="text-left text-base-content "+i[2]),p(u,"class","card-body p-4"),p(e,"class",b="topicnavigator "+i[3])},m(w,L){T(w,e,L),m(e,l),m(l,t),m(t,r),m(e,s),m(e,a),A(c,a,null),m(e,h),m(e,u),m(u,f),A(d,f,null),$=!0},p(w,[L]){(!$||L&1)&&n!==(n=w[0].lo.title+"")&&Z(r,n),(!$||L&2&&o!==(o="card-title "+w[1]))&&p(t,"class",o);const N={};L&1&&(N.lo=w[0].lo),c.$set(N);const E={};L&1&&(E.topic=w[0]),d.$set(E),(!$||L&4&&v!==(v="text-left text-base-content "+w[2]))&&p(f,"class",v),(!$||L&8&&b!==(b="topicnavigator "+w[3]))&&p(e,"class",b)},i(w){$||(g(c.$$.fragment,w),g(d.$$.fragment,w),$=!0)},o(w){k(c.$$.fragment,w),k(d.$$.fragment,w),$=!1},d(w){w&&y(e),U(c),U(d)}}}function Ir(i,e,l){let{topic:t}=e,n="",r="",o="";const s=$e.subscribe(a=>{a==="compacted"?(l(1,n="text-xs font-medium"),l(2,r="text-xs"),l(3,o="w-32")):(l(1,n="text-md font-normal"),l(2,r="text-sm"),l(3,o="w-72"))});return ye(s),i.$$set=a=>{"topic"in a&&l(0,t=a.topic)},[t,n,r,o]}class Tt extends q{constructor(e){super();K(this,e,Ir,Cr,G,{topic:0})}}function Nr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Er(i){let e,l,t=!i[2]&&vl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[2]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&4&&g(t,1)):(t=vl(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function vl(i){let e,l,t,n,r,o,s,a;return t=new yt({props:{lo:i[6]}}),s=new Tt({props:{topic:i[6].parent}}),{c(){e=_("div"),l=_("div"),H(t.$$.fragment),r=C(),o=_("div"),H(s.$$.fragment),p(l,"class","flex-grow"),p(o,"class","hidden lg:block"),p(e,"class","h-screen flex")},m(c,h){T(c,e,h),m(e,l),A(t,l,null),m(e,r),m(e,o),A(s,o,null),a=!0},p(c,h){const u={};h&1&&(u.lo=c[6]),t.$set(u);const f={};h&1&&(f.topic=c[6].parent),s.$set(f)},i(c){a||(g(t.$$.fragment,c),pe(()=>{n||(n=ge(l,je,{},!0)),n.run(1)}),g(s.$$.fragment,c),a=!0)},o(c){k(t.$$.fragment,c),n||(n=ge(l,je,{},!1)),n.run(0),k(s.$$.fragment,c),a=!1},d(c){c&&y(e),U(t),c&&n&&n.end(),U(s)}}}function Mr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Rr(i){let e,l,t,n,r;document.title=e=i[1];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:Mr,then:Er,catch:Nr,value:6,blocks:[,,,]};return he(n=i[3](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&2)&&e!==(e=i[1])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[3](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function Hr(i,e,l){let{params:t={}}=e;const n=re("cache"),r=re("analytics");let o="",s=!0;setTimeout(function(){l(2,s=!1)},500),Me(async()=>{Be({delay:800,element:"#top"})});async function a(c){Se.set(!1),await n.fetchCourseFromTalk(t.wild);const h=`/#/talk/${t.wild}`;let u=n.course.talks.get(h);return r.pageLoad(t.wild,n.course,u),_e.set(u),l(1,o=u.title),u}return i.$$set=c=>{"params"in c&&l(0,t=c.params)},[t,o,s,a]}class Ar extends q{constructor(e){super();K(this,e,Hr,Rr,G,{params:0})}}function Ur(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Br(i){let e,l,t=!i[2]&&kl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[2]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&4&&g(t,1)):(t=kl(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function kl(i){let e,l,t,n,r,o,s,a;return t=new Ze({props:{lo:i[3]}}),s=new Tt({props:{topic:i[3].parent}}),{c(){e=_("div"),l=_("div"),H(t.$$.fragment),r=C(),o=_("div"),H(s.$$.fragment),p(l,"class","w-full"),p(o,"class","hidden md:block"),p(e,"class","h-screen flex")},m(c,h){T(c,e,h),m(e,l),A(t,l,null),m(e,r),m(e,o),A(s,o,null),a=!0},p(c,h){const u={};h&1&&(u.lo=c[3]),t.$set(u);const f={};h&1&&(f.topic=c[3].parent),s.$set(f)},i(c){a||(g(t.$$.fragment,c),pe(()=>{n||(n=ge(l,je,{},!0)),n.run(1)}),g(s.$$.fragment,c),a=!0)},o(c){k(t.$$.fragment,c),n||(n=ge(l,je,{},!1)),n.run(0),k(s.$$.fragment,c),a=!1},d(c){c&&y(e),U(t),c&&n&&n.end(),U(s)}}}function Or(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Pr(i){let e,l,t,n,r;document.title=e=i[1];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:Or,then:Br,catch:Ur,value:3,blocks:[,,,]};return he(n=i[4](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&2)&&e!==(e=i[1])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[4](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function jr(i,e,l){let t;ee(i,ci,u=>l(5,t=u));let{params:n={}}=e;const r=re("cache"),o=re("analytics");let s=null,a="",c=!0;setTimeout(function(){l(2,c=!1)},Fe);async function h(u){Se.set(!1);let f=n.wild;t&&(f+="?"+t),await r.fetchCourseFromTalk(f);const d=`/#/video/${f}`;return l(3,s=r.course.videos.get(d)),o.pageLoad(n.wild,r.course,s),_e.set(s),l(1,a=s.title),s}return it(async()=>{Be({delay:200,element:"#top"})}),i.$$set=u=>{"params"in u&&l(0,n=u.params)},[n,a,c,s,h]}class Vr extends q{constructor(e){super();K(this,e,jr,Pr,G,{params:0})}}function $l(i,e,l){const t=i.slice();return t[12]=e[l],t}function wl(i,e,l){const t=i.slice();return t[12]=e[l],t}function Dr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function zr(i){let e,l,t=!i[6]&&yl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[6]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&64&&g(t,1)):(t=yl(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function yl(i){let e,l,t,n;const r=[Fr,Wr],o=[];function s(a,c){return a[2]!=="video"?0:1}return l=s(i),t=o[l]=r[l](i),{c(){e=_("div"),t.c(),p(e,"class","")},m(a,c){T(a,e,c),o[l].m(e,null),n=!0},p(a,c){let h=l;l=s(a),l===h?o[l].p(a,c):(W(),k(o[h],1,1,()=>{o[h]=null}),F(),t=o[l],t?t.p(a,c):(t=o[l]=r[l](a),t.c()),g(t,1),t.m(e,null))},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){a&&y(e),o[l].d()}}}function Wr(i){let e,l,t,n,r=i[3],o=[];for(let u=0;u<r.length;u+=1)o[u]=Tl(wl(i,r,u));const s=u=>k(o[u],1,1,()=>{o[u]=null});let a=i[4],c=[];for(let u=0;u<a.length;u+=1)c[u]=Ll($l(i,a,u));const h=u=>k(c[u],1,1,()=>{c[u]=null});return{c(){e=_("div");for(let u=0;u<o.length;u+=1)o[u].c();l=C(),t=_("div");for(let u=0;u<c.length;u+=1)c[u].c();p(e,"class","wall-bg"),p(t,"class","wall-bg")},m(u,f){T(u,e,f);for(let d=0;d<o.length;d+=1)o[d].m(e,null);T(u,l,f),T(u,t,f);for(let d=0;d<c.length;d+=1)c[d].m(t,null);n=!0},p(u,f){if(f&8){r=u[3];let d;for(d=0;d<r.length;d+=1){const v=wl(u,r,d);o[d]?(o[d].p(v,f),g(o[d],1)):(o[d]=Tl(v),o[d].c(),g(o[d],1),o[d].m(e,null))}for(W(),d=r.length;d<o.length;d+=1)s(d);F()}if(f&16){a=u[4];let d;for(d=0;d<a.length;d+=1){const v=$l(u,a,d);c[d]?(c[d].p(v,f),g(c[d],1)):(c[d]=Ll(v),c[d].c(),g(c[d],1),c[d].m(t,null))}for(W(),d=a.length;d<c.length;d+=1)h(d);F()}},i(u){if(!n){for(let f=0;f<r.length;f+=1)g(o[f]);for(let f=0;f<a.length;f+=1)g(c[f]);n=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)k(o[f]);c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)k(c[f]);n=!1},d(u){u&&y(e),ie(o,u),u&&y(l),u&&y(t),ie(c,u)}}}function Fr(i){let e,l;return e=new Ye({props:{los:i[1]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.los=t[1]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Tl(i){let e,l,t,n;return l=new Ze({props:{lo:i[12]}}),{c(){e=_("div"),H(l.$$.fragment),t=C(),p(e,"class","w-1/2 p-2")},m(r,o){T(r,e,o),A(l,e,null),m(e,t),n=!0},p(r,o){const s={};o&8&&(s.lo=r[12]),l.$set(s)},i(r){n||(g(l.$$.fragment,r),n=!0)},o(r){k(l.$$.fragment,r),n=!1},d(r){r&&y(e),U(l)}}}function Ll(i){let e,l,t,n;return l=new Ze({props:{lo:i[12]}}),{c(){e=_("div"),H(l.$$.fragment),t=C(),p(e,"class","w-1/4 p-2")},m(r,o){T(r,e,o),A(l,e,null),m(e,t),n=!0},p(r,o){const s={};o&16&&(s.lo=r[12]),l.$set(s)},i(r){n||(g(l.$$.fragment,r),n=!0)},o(r){k(l.$$.fragment,r),n=!1},d(r){r&&y(e),U(l)}}}function qr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Kr(i){let e,l,t,n,r;document.title=e=i[5];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:qr,then:zr,catch:Dr,value:12,blocks:[,,,]};return he(n=i[7](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&32)&&e!==(e=i[5])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[7](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function Gr(i,e,l){let{params:t={}}=e,n,r=null;const o=re("cache"),s=re("analytics");let a="",c=[],h=[],u="",f=!1;async function d(b){return l(2,a=t.wild),l(1,n=await o.fetchWall(t.wild)),l(6,f=!0),setTimeout(()=>{l(6,f=!1),r=o.course;const $=t.wild.split("/");l(2,a=$[0]),n&&n.length>0&&(s.pageLoad(t.wild,o.course,n[0]),_e.set({title:`All ${a}s in Module`,type:a,parentLo:r.lo,img:r.lo.img,route:`#/wall/${b}`}),l(5,u=`All ${a}s in Module`),v())},Fe),n}function v(){a==="video"&&(l(3,c=n.filter(b=>b.type==="panelvideo")),l(4,h=n.filter(b=>b.type!=="panelvideo")))}return Me(async()=>{Be({delay:200,element:"#top"})}),i.$$set=b=>{"params"in b&&l(0,t=b.params)},[t,n,a,c,h,u,f,d]}class Xr extends q{constructor(e){super();K(this,e,Gr,Kr,G,{params:0})}}function Jr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Qr(i){let e,l=!i[2]&&Sl(i);return{c(){l&&l.c(),e=Q()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,n){t[2]?l&&(l.d(1),l=null):l?(l.p(t,n),n&4&&g(l,1)):(l=Sl(t),l.c(),g(l,1),l.m(e.parentNode,e))},i(t){g(l)},o:S,d(t){l&&l.d(t),t&&y(e)}}}function Sl(i){let e,l,t,n=i[4].navbarHtml+"",r,o,s,a,c=i[4].horizontalNavbarHtml+"",h,u,f=i[4].content+"",d;return{c(){e=_("div"),l=_("div"),t=_("ul"),r=C(),o=_("div"),s=_("header"),a=_("nav"),h=C(),u=_("article"),p(t,"class","labmenu"),p(l,"class","labmenu-container"),p(a,"class","flex flex-wrap justify-between"),p(s,"class","labmenu-mobile"),p(u,"class","labcontent"),p(o,"id","lab-panel"),p(o,"class","labpanel"),p(e,"class","flex")},m(v,b){T(v,e,b),m(e,l),m(l,t),t.innerHTML=n,m(e,r),m(e,o),m(o,s),m(s,a),a.innerHTML=c,m(o,h),m(o,u),u.innerHTML=f},p(v,b){i=v,b&1&&n!==(n=i[4].navbarHtml+"")&&(t.innerHTML=n),b&1&&c!==(c=i[4].horizontalNavbarHtml+"")&&(a.innerHTML=c),b&1&&f!==(f=i[4].content+"")&&(u.innerHTML=f)},i(v){d||pe(()=>{d=Ee(u,we,{x:i[3],duration:200}),d.start()})},o:S,d(v){v&&y(e)}}}function Yr(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Zr(i){let e,l,t,n,r,o,s;document.title=e=i[1];let a={ctx:i,current:null,token:null,hasCatch:!1,pending:Yr,then:Qr,catch:Jr,value:4};return he(s=i[5](i[0].wild),a),{c(){l=_("script"),n=_("link"),r=C(),o=Q(),a.block.c(),ue(l.src,t="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.js")||p(l,"src",t),p(l,"integrity","sha512-DAZH0Wu7q9Hnm0Fw8tRZsTeQBzIugiUy6k2r7E0KKMlC2nBvvrNSH/LVnGueCXRfDs5epP+Ieoh3L+VzSKi0Aw=="),p(l,"crossorigin","anonymous"),p(l,"referrerpolicy","no-referrer"),p(n,"rel","stylesheet"),p(n,"href","https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.18/katex.min.css"),p(n,"integrity","sha512-nii0D5CrWiLjtPcfU3pQJifaRLxKKVut/hbsazsodCcIOERZbwLH7dQxzOKy3Ey/Fv8fXCA9+Rf+wQzqklbEJQ=="),p(n,"crossorigin","anonymous"),p(n,"referrerpolicy","no-referrer")},m(c,h){m(document.head,l),m(document.head,n),T(c,r,h),T(c,o,h),a.block.m(c,a.anchor=h),a.mount=()=>o.parentNode,a.anchor=o},p(c,[h]){i=c,h&2&&e!==(e=i[1])&&(document.title=e),a.ctx=i,h&1&&s!==(s=i[5](i[0].wild))&&he(s,a)||Oe(a,i,h)},i(c){g(a.block)},o:S,d(c){y(l),y(n),c&&y(r),c&&y(o),a.block.d(c),a.token=null,a=null}}}function Cl(i){var e=i.split("/");return e.pop().startsWith("book")?i:e.join("/")}function xr(i,e,l){let{params:t={}}=e;const n=re("cache"),r=re("analytics");let o="",s=null;window.addEventListener("keydown",d),window.addEventListener("mousedown",f);let a=!0;setTimeout(function(){l(2,a=!1)},Fe);let c="";async function h(v){Se.set(!1);const $=encodeURI(t.wild).substr(t.wild.lastIndexOf("/")+1);if(c==="")c=Cl(t.wild),l(4,s=await n.fetchLab(t.wild));else{let w=Cl(t.wild);c!==w&&l(4,s=await n.fetchLab(t.wild))}return r.pageLoad(t.wild,n.course,s.lo),_e.set(s.lo),l(1,o=s.lo.title),$.startsWith("book")?s.setFirstPageActive():s.setActivePage($),s}let u=0;function f(v){l(3,u=0)}function d(v){if(v.key==="ArrowRight"||v.key==="ArrowDown"){l(3,u=400),v.preventDefault();let b=s.nextStep();b&&dt(`/lab/${s.url}/${b}`)}else if(v.key==="ArrowLeft"||v.key==="ArrowUp"){l(3,u=-150),v.preventDefault();let b=s.prevStep();b&&dt(`/lab/${s.url}/${b}`)}}return ye(async()=>{window.removeEventListener("keydown",d),window.removeEventListener("mousedown",f)}),it(async()=>{ui()}),i.$$set=v=>{"params"in v&&l(0,t=v.params)},[t,o,a,u,s,h]}class eo extends q{constructor(e){super();K(this,e,xr,Zr,G,{params:0})}}function to(i){let e;return{c(){e=_("h1"),e.textContent="Not Found"},m(l,t){T(l,e,t)},p:S,i:S,o:S,d(l){l&&y(e)}}}function lo(i,e,l){let{params:t={}}=e;return Me(async()=>{console.log(t)}),i.$$set=n=>{"params"in n&&l(0,t=n.params)},[t]}class no extends q{constructor(e){super();K(this,e,lo,to,G,{params:0})}}function Il(i){let e,l,t,n,r,o,s=i[2].title+"",a,c,h;const u=[ro,io],f=[];function d(w,L){return w[1]?1:0}l=d(i),t=f[l]=u[l](i);function v(w,L){return w[2].title!=w[3].lo.title?so:oo}let b=v(i),$=b(i);return{c(){e=_("div"),t.c(),n=C(),r=_("div"),o=_("p"),a=X(s),c=C(),$.c(),p(o,"class","text-lg font-bold"),p(r,"class","navbar-title"),p(e,"class","flex-1")},m(w,L){T(w,e,L),f[l].m(e,null),m(e,n),m(e,r),m(r,o),m(o,a),m(r,c),$.m(r,null),h=!0},p(w,L){let N=l;l=d(w),l===N?f[l].p(w,L):(W(),k(f[N],1,1,()=>{f[N]=null}),F(),t=f[l],t?t.p(w,L):(t=f[l]=u[l](w),t.c()),g(t,1),t.m(e,n)),(!h||L&4)&&s!==(s=w[2].title+"")&&Z(a,s),b===(b=v(w))&&$?$.p(w,L):($.d(1),$=b(w),$&&($.c(),$.m(r,null)))},i(w){h||(g(t),h=!0)},o(w){k(t),h=!1},d(w){w&&y(e),f[l].d(),$.d()}}}function io(i){let e,l;return e=new De({props:{icon:ae(i[0].type).icon,class:"text-"+ae(i[0].type).colour,width:"40",height:"40"}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.icon=ae(t[0].type).icon),n&1&&(r.class="text-"+ae(t[0].type).colour),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ro(i){let e,l;return e=new rt({props:{lo:i[0],miniImage:!0}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.lo=t[0]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function oo(i){let e,l=i[3].lo.properties.credits+"",t;return{c(){e=_("p"),t=X(l),p(e,"class","text-sm font-bold")},m(n,r){T(n,e,r),m(e,t)},p(n,r){r&8&&l!==(l=n[3].lo.properties.credits+"")&&Z(t,l)},d(n){n&&y(e)}}}function so(i){let e,l=i[3].lo.title+"",t;return{c(){e=_("p"),t=X(l),p(e,"class","text-sm font-bold")},m(n,r){T(n,e,r),m(e,t)},p(n,r){r&8&&l!==(l=n[3].lo.title+"")&&Z(t,l)},d(n){n&&y(e)}}}function ao(i){let e,l,t=i[2]&&Il(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[2]?t?(t.p(n,r),r&4&&g(t,1)):(t=Il(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function co(i,e,l){let t,n;ee(i,_e,s=>l(2,t=s)),ee(i,oe,s=>l(3,n=s));let r,o=!1;return re("simple-modal"),_e.subscribe(s=>{l(0,r=s),r&&r.type==="unit"?(l(0,r.img=r.parentLo.img,r),l(0,r.icon=r.parentLo.icon,r)):r&&r.route.includes("wall")&&l(1,o=!0)}),[r,o,t,n]}class uo extends q{constructor(e){super();K(this,e,co,ao,G,{})}}function Nl(i,e,l){const t=i.slice();return t[3]=e[l],t}function El(i){let e,l=i[3]+"",t,n,r,o;function s(){return i[1](i[3])}return{c(){e=_("button"),t=X(l),p(e,"class","bg-base-100 text-base-content py-2"),p(e,"data-theme",n=i[3])},m(a,c){T(a,e,c),m(e,t),r||(o=de(e,"click",s),r=!0)},p(a,c){i=a},d(a){a&&y(e),r=!1,o()}}}function fo(i){let e,l,t,n,r;l=new x({props:{type:"dark",button:"true"}});let o=mt,s=[];for(let a=0;a<o.length;a+=1)s[a]=El(Nl(i,o,a));return{c(){e=_("div"),H(l.$$.fragment),t=C(),n=_("ul");for(let a=0;a<s.length;a+=1)s[a].c();p(n,"class","shadow menu dropdown-content bg-base-100 text-base-content w-48 p-1 rounded-xl"),p(e,"class","flex-none tooltip tooltip-top dropdown dropdown-end dropdown-hover")},m(a,c){T(a,e,c),A(l,e,null),m(e,t),m(e,n);for(let h=0;h<s.length;h+=1)s[h].m(n,null);r=!0},p(a,[c]){if(c&1){o=mt;let h;for(h=0;h<o.length;h+=1){const u=Nl(a,o,h);s[h]?s[h].p(u,c):(s[h]=El(u),s[h].c(),s[h].m(n,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}},i(a){r||(g(l.$$.fragment,a),r=!0)},o(a){k(l.$$.fragment,a),r=!1},d(a){a&&y(e),U(l),ie(s,a)}}}function po(i){const e=document.getElementsByTagName("html")[0];function l(n){window.localStorage.setItem("site-theme",n),window.localStorage.setItem("theme",n),e.setAttribute("data-theme",n),ht(gt[n]),console.log("setting theme to ",n)}return[l,n=>l(n)]}class ho extends q{constructor(e){super();K(this,e,po,fo,G,{})}}function mo(i){let e,l,t,n,r,o=Ml(i[0].title)+"",s,a,c,h,u;return t=new x({props:{type:i[0].type}}),{c(){e=_("li"),l=_("a"),H(t.$$.fragment),n=C(),r=_("span"),s=X(o),p(r,"class","hidden text-xs lg:block lg:pl-2"),p(l,"class","font-bold"),p(l,"href",a=""+(i[0].route+i[1])),p(e,"class","ml-2")},m(f,d){T(f,e,d),m(e,l),A(t,l,null),m(l,n),m(l,r),m(r,s),u=!0},p(f,[d]){const v={};d&1&&(v.type=f[0].type),t.$set(v),(!u||d&1)&&o!==(o=Ml(f[0].title)+"")&&Z(s,o),(!u||d&3&&a!==(a=""+(f[0].route+f[1])))&&p(l,"href",a)},i(f){u||(g(t.$$.fragment,f),pe(()=>{h&&h.end(1),c=Ee(e,we,{x:-100,duration:2e3}),c.start()}),u=!0)},o(f){k(t.$$.fragment,f),c&&c.invalidate(),h=ze(e,We,{}),u=!1},d(f){f&&y(e),U(t),f&&h&&h.end()}}}function Ml(i){return i.length>26?i.substring(0,26)+"...":i}function go(i,e,l){let{lo:t}=e,n="";return t.type==="unit"&&(n=t.id),i.$$set=r=>{"lo"in r&&l(0,t=r.lo)},[t,n]}class _o extends q{constructor(e){super();K(this,e,go,mo,G,{lo:0})}}function Rl(i,e,l){const t=i.slice();return t[2]=e[l],t}function Hl(i){let e,l,t,n,r;return t=new x({props:{type:"programHome"}}),{c(){var o;e=_("li"),l=_("a"),H(t.$$.fragment),p(l,"class","navbar-icon"),p(l,"href",n="#/"+((o=i[0].lo.properties)==null?void 0:o.parent))},m(o,s){T(o,e,s),m(e,l),A(t,l,null),r=!0},p(o,s){var a;(!r||s&1&&n!==(n="#/"+((a=o[0].lo.properties)==null?void 0:a.parent)))&&p(l,"href",n)},i(o){r||(g(t.$$.fragment,o),r=!0)},o(o){k(t.$$.fragment,o),r=!1},d(o){o&&y(e),U(t)}}}function Al(i){let e,l;return e=new _o({props:{lo:i[2]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.lo=t[2]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function bo(i){var u;let e,l,t,n,r,o,s=((u=i[0].lo.properties)==null?void 0:u.parent)!=null&&Hl(i),a=_t(i[1],[]),c=[];for(let f=0;f<a.length;f+=1)c[f]=Al(Rl(i,a,f));const h=f=>k(c[f],1,1,()=>{c[f]=null});return{c(){e=_("div"),l=_("ul"),s&&s.c(),t=C();for(let f=0;f<c.length;f+=1)c[f].c();p(e,"class","navbar-secondary-bg")},m(f,d){T(f,e,d),m(e,l),s&&s.m(l,null),m(l,t);for(let v=0;v<c.length;v+=1)c[v].m(l,null);o=!0},p(f,[d]){var v;if(((v=f[0].lo.properties)==null?void 0:v.parent)!=null?s?(s.p(f,d),d&1&&g(s,1)):(s=Hl(f),s.c(),g(s,1),s.m(l,t)):s&&(W(),k(s,1,1,()=>{s=null}),F()),d&2){a=_t(f[1],[]);let b;for(b=0;b<a.length;b+=1){const $=Rl(f,a,b);c[b]?(c[b].p($,d),g(c[b],1)):(c[b]=Al($),c[b].c(),g(c[b],1),c[b].m(l,null))}for(W(),b=a.length;b<c.length;b+=1)h(b);F()}},i(f){if(!o){g(s);for(let d=0;d<a.length;d+=1)g(c[d]);pe(()=>{r&&r.end(1),n=Ee(l,we,{y:-20,duration:1e3}),n.start()}),o=!0}},o(f){k(s),c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)k(c[d]);n&&n.invalidate(),r=ze(l,We,{}),o=!1},d(f){f&&y(e),s&&s.d(),ie(c,f),f&&r&&r.end()}}}function _t(i,e){return i&&(_t(i.parentLo,e),i.type==="unit"&&i.parentLo.type==="course"||e.push(i)),e}function vo(i,e,l){let t,n;return ee(i,oe,r=>l(0,t=r)),ee(i,_e,r=>l(1,n=r)),[t,n]}class ko extends q{constructor(e){super();K(this,e,vo,bo,G,{})}}function Ul(i,e,l){const t=i.slice();return t[1]=e[l],t}function Bl(i){let e,l,t,n,r,o,s;return t=new x({props:{toolTip:i[1].tip,type:i[1].icon,button:"true",tipPos:"tooltip-top"}}),{c(){e=_("span"),l=_("a"),H(t.$$.fragment),o=C(),p(l,"href",n=i[1].link),p(l,"target",r=i[1].target)},m(a,c){T(a,e,c),m(e,l),A(t,l,null),m(e,o),s=!0},p(a,c){const h={};c&1&&(h.toolTip=a[1].tip),c&1&&(h.type=a[1].icon),t.$set(h),(!s||c&1&&n!==(n=a[1].link))&&p(l,"href",n),(!s||c&1&&r!==(r=a[1].target))&&p(l,"target",r)},i(a){s||(g(t.$$.fragment,a),s=!0)},o(a){k(t.$$.fragment,a),s=!1},d(a){a&&y(e),U(t)}}}function $o(i){let e,l,t=i[0].bar,n=[];for(let o=0;o<t.length;o+=1)n[o]=Bl(Ul(i,t,o));const r=o=>k(n[o],1,1,()=>{n[o]=null});return{c(){e=_("div");for(let o=0;o<n.length;o+=1)n[o].c();p(e,"class","iconbar")},m(o,s){T(o,e,s);for(let a=0;a<n.length;a+=1)n[a].m(e,null);l=!0},p(o,[s]){if(s&1){t=o[0].bar;let a;for(a=0;a<t.length;a+=1){const c=Ul(o,t,a);n[a]?(n[a].p(c,s),g(n[a],1)):(n[a]=Bl(c),n[a].c(),g(n[a],1),n[a].m(e,null))}for(W(),a=t.length;a<n.length;a+=1)r(a);F()}},i(o){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(o){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)k(n[s]);l=!1},d(o){o&&y(e),ie(n,o)}}}function wo(i,e,l){let{nav:t}=e;return i.$$set=n=>{"nav"in n&&l(0,t=n.nav)},[t]}class yn extends q{constructor(e){super();K(this,e,wo,$o,G,{nav:0})}}function yo(i){let e,l,t,n,r;return l=new yn({props:{nav:i[0].companions}}),{c(){e=_("div"),H(l.$$.fragment),p(e,"class","hidden lg:block flex-none")},m(o,s){T(o,e,s),A(l,e,null),r=!0},p(o,[s]){const a={};s&1&&(a.nav=o[0].companions),l.$set(a)},i(o){r||(g(l.$$.fragment,o),pe(()=>{n&&n.end(1),t=Ee(e,we,{y:-20,duration:1e3}),t.start()}),r=!0)},o(o){k(l.$$.fragment,o),t&&t.invalidate(),n=ze(e,We,{}),r=!1},d(o){o&&y(e),U(l),o&&n&&n.end()}}}function To(i,e,l){let t;return ee(i,oe,n=>l(0,t=n)),[t]}class Lo extends q{constructor(e){super();K(this,e,To,yo,G,{})}}function So(i){let e,l,t,n,r;return l=new yn({props:{nav:i[0].wallBar}}),{c(){e=_("span"),H(l.$$.fragment),p(e,"class","hidden lg:block flex-none")},m(o,s){T(o,e,s),A(l,e,null),r=!0},p(o,[s]){const a={};s&1&&(a.nav=o[0].wallBar),l.$set(a)},i(o){r||(g(l.$$.fragment,o),pe(()=>{n&&n.end(1),t=Ee(e,we,{y:-20,duration:1e3}),t.start()}),r=!0)},o(o){k(l.$$.fragment,o),t&&t.invalidate(),n=ze(e,We,{}),r=!1},d(o){o&&y(e),U(l),o&&n&&n.end()}}}function Co(i,e,l){let t;return ee(i,oe,n=>l(0,t=n)),[t]}class Io extends q{constructor(e){super();K(this,e,Co,So,G,{})}}function Ol(i){let e,l;return e=new x({props:{type:"search",toolTip:"Search",link:"/#/search/"+i[1],button:"true"}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.link="/#/search/"+t[1]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function No(i){let e=!i[0].isPortfolio(),l,t,n=e&&Ol(i);return{c(){n&&n.c(),l=Q()},m(r,o){n&&n.m(r,o),T(r,l,o),t=!0},p(r,[o]){o&1&&(e=!r[0].isPortfolio()),e?n?(n.p(r,o),o&1&&g(n,1)):(n=Ol(r),n.c(),g(n,1),n.m(l.parentNode,l)):n&&(W(),k(n,1,1,()=>{n=null}),F())},i(r){t||(g(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&y(l)}}}function Eo(i,e,l){let t,n;return ee(i,oe,r=>l(0,t=r)),ee(i,bn,r=>l(1,n=r)),[t,n]}class Mo extends q{constructor(e){super();K(this,e,Eo,No,G,{})}}function Ro(i){let e,l,t,n,r;return l=new x({props:{type:"toc",toolTip:"Contents",button:"true",tipPos:"tooltip-bottom"}}),{c(){e=_("button"),H(l.$$.fragment)},m(o,s){T(o,e,s),A(l,e,null),t=!0,n||(r=de(e,"click",i[0]),n=!0)},p:S,i(o){t||(g(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){o&&y(e),U(l),n=!1,r()}}}function Ho(i){return[()=>Se.set(!0)]}class Ao extends q{constructor(e){super();K(this,e,Ho,Ro,G,{})}}function Uo(i){let e,l,t;return{c(){e=_("div"),l=_("a"),l.innerHTML=`<div class="navbar-icon"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x="0px" y="0px" width="20px" viewBox="0 0 54.5 39.4" style="enable-background:new 0 0 54.5 39.4;" xml:space="preserve"><defs></defs><g><path fill="hsla(var(--in) / var(--tw-border-opacity))" d="M51.5,0H3C1.4,0,0,1.4,0,3v33.3c0,1.7,1.4,3,3,3h48.5c1.7,0,3-1.4,3-3V3C54.5,1.4,53.1,0,51.5,0z M50,34.8H4.5
 V4.5H50V34.8z"></path><g><rect fill="hsla(var(--in) / var(--tw-border-opacity))" x="29" y="26.5" width="12.1" height="4.2"></rect><g><path fill="hsla(var(--in) / var(--tw-border-opacity))" d="M13.4,13.5V8.7h19.1v4.8H26v17.2h-5.9V13.5H13.4z"></path></g></g></g></svg></div>`,p(l,"target","_blank"),p(l,"href","https://docs.tutors.dev"),p(e,"class","tooltip tooltip-bottom"),p(e,"data-tip",t="Tutors Reader "+i[0])},m(n,r){T(n,e,r),m(e,l)},p(n,[r]){r&1&&t!==(t="Tutors Reader "+n[0])&&p(e,"data-tip",t)},i:S,o:S,d(n){n&&y(e)}}}function Bo(i,e,l){let{version:t="4.6.4"}=e;return i.$$set=n=>{"version"in n&&l(0,t=n.version)},[t]}class Tn extends q{constructor(e){super();K(this,e,Bo,Uo,G,{version:0})}}function Oo(i){let e,l,t,n,r;return l=new x({props:{type:i[0],toolTip:"Switch layout",button:"true"}}),{c(){e=_("button"),H(l.$$.fragment)},m(o,s){T(o,e,s),A(l,e,null),t=!0,n||(r=de(e,"click",i[2]),n=!0)},p(o,[s]){const a={};s&1&&(a.type=o[0]),l.$set(a)},i(o){t||(g(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){o&&y(e),U(l),n=!1,r()}}}function Po(i,e,l){let t;ee(i,$e,s=>l(0,t=s));function n(){const s=window.localStorage.getItem("site-layout");s!=null?$e.set(s):($e.set("expanded"),window.localStorage.setItem("site-layout","expanded"))}function r(){t==="compacted"?($e.set("expanded"),window.localStorage.setItem("site-layout","expanded")):($e.set("compacted"),window.localStorage.setItem("site-layout","compacted"))}return n(),[t,r,()=>r()]}class jo extends q{constructor(e){super();K(this,e,Po,Oo,G,{})}}function Ln(i,e){i.route&&(i.route=i.route.replace("{{COURSEURL}}",e)),i.img&&(i.img=i.img.replace("{{COURSEURL}}",e)),i.video&&(i.video=i.video.replace("{{COURSEURL}}",e)),i.pdf&&(i.pdf=i.pdf.replace("{{COURSEURL}}",e)),i.los&&i.los.forEach(l=>{Ln(l,e)})}function Sn(i){return i.includes("#")&&(i.lastIndexOf("#"),i=i.substr(i.lastIndexOf("#")+1)),i}function Vo(i){var e=i.split("/"),l=e.pop()||e.pop();return l}function Cn(i){i.los.forEach(e=>{e.parentLo=i,e.los&&Cn(e)})}function In(i,e){let l=[];return i.forEach(t=>{t.type===e&&l.push(t),t.type=="unit"&&(l=l.concat(In(t.los,e)))}),l}function Nn(i){let e=[];return i.forEach(l=>{l.video&&e.push(l),l.type=="unit"&&(e=e.concat(Nn(l.los)))}),e}function Ae(i,e){let l=[];for(let t of e)l=l.concat(In(t.los,i));return l}function Do(i){let e=[];for(let l of i)e=e.concat(Nn(l.los));return e}function et(i){i.route&&i.route[0]=="#"&&(i.route=i.route.slice(1),i.route="/#/"+i.route),i.video&&i.video[0]=="#"&&(i.video=i.video.slice(1),i.video="/#/"+i.video),i.route.endsWith("md")&&i.video&&(i.route=i.video)}function En(i){const e=i.filter(l=>l.type=="unit");for(let l of e){const t=l.los.filter(s=>s.type=="panelvideo"),n=l.los.filter(s=>s.type=="paneltalk"),r=l.los.filter(s=>s.type!=="unit"&&s.type!=="panelvideo"&&s.type!=="paneltalk"),o=[];o.push(...t),o.push(...n),o.push(...r),l.los=o}return e}class zo{constructor(e,l){V(this,"lo");V(this,"units");V(this,"panelVideos");V(this,"panelTalks");V(this,"standardLos");V(this,"toc",[]);this.lo=e,this.units=En(this.lo.los),this.panelVideos=e.los.filter(t=>t.type=="panelvideo"),this.panelTalks=e.los.filter(t=>t.type=="paneltalk"),this.standardLos=e.los.filter(t=>t.type!=="unit"&&t.type!=="panelvideo"&&t.type!=="paneltalk"),this.toc.push(...this.panelVideos),this.toc.push(...this.panelTalks),this.toc.push(...this.units),this.toc.push(...this.standardLos),this.toc.forEach(t=>{t.parent=this,et(t),t.type==="unit"&&t.los.forEach(n=>{n.parent=this,et(n)})}),et(e)}}class Wo{constructor(e){V(this,"lo");V(this,"topics",[]);V(this,"units");V(this,"standardLos");V(this,"allLos");V(this,"url");V(this,"authLevel",0);V(this,"analytics",0);V(this,"topicIndex",new Map);V(this,"videos",new Map);V(this,"talks",new Map);V(this,"notes",new Map);V(this,"labIndex",new Map);V(this,"hydratedLabs",new Map);V(this,"walls",new Map);V(this,"calendar");V(this,"currentWeek",null);V(this,"companions",{show:!0,bar:[]});V(this,"wallBar",{show:!0,bar:[]});V(this,"profileBar",{show:!0,bar:[]});this.url=e}async fetchCourse(){this.lo=await this.fetch(this.url),this.allLos=this.lo.los,this.lo.los=this.lo.los.filter(e=>e.hide!=!0),this.populate(),this.createCompanions(),this.createWallBar()}async fetch(e,l=!1){const n=await(await fetch("https://"+e+"/tutors.json")).json();return Ln(n,e),n.properties.hasOwnProperty("auth")&&(this.authLevel=n.properties.auth),n.properties.hasOwnProperty("analytics")&&(this.analytics=n.properties.analytics),Cn(n),n.route=`/#/course/${e}`,this.lo=n,this.initCalendar(),n.properties.icon&&(n.icon=n.properties.icon),n}populate(){for(let o of this.lo.los){const s=new zo(o,this.url);this.topics.push(s),this.topicIndex.set(o.id,s)}if(this.standardLos=this.lo.los,Ae("talk",this.lo.los).forEach(o=>{this.talks.set(`${o.route}`,o)}),Ae("paneltalk",this.lo.los).forEach(o=>{this.talks.set(`${o.route}`,o)}),this.addWall("talk"),Ae("note",this.lo.los).forEach(o=>{this.notes.set(`${o.route}`,o)}),Ae("panelnote",this.lo.los).forEach(o=>{this.notes.set(`${o.route}`,o)}),this.addWall("note"),!this.areVideosHidden()){const o=Do(this.lo.los);o.forEach(s=>{this.videos.set(`${s.video}`,s)}),o.length>0&&this.walls.set("video",o)}const r=Ae("lab",this.lo.los);r.forEach(o=>{et(o),this.labIndex.set(o.route,o)}),r.length>0&&this.walls.set("lab",r),this.addWall("github"),this.addWall("archive"),this.units=En(this.lo.los),this.standardLos=this.lo.los.filter(o=>o.type!=="unit"&&o.type!=="panelvideo"&&o.type!=="paneltalk")}addWall(e){const l=Ae(e,this.lo.los);l.length>0&&this.walls.set(e,l)}showAllLos(){this.lo.los=this.allLos,this.populate()}isPortfolio(){let e=!1;return this.lo.properties.portfolio!==void 0&&(e=this.lo.properties.portfolio==!0),e}areVideosHidden(){let e=!1;return this.lo.properties.hideVideos!==void 0&&(e=this.lo.properties.hideVideos==!0),e}areLabStepsAutoNumbered(){let e=!1;return this.lo.properties.labStepsAutoNumber!==void 0&&(e=this.lo.properties.labStepsAutoNumber==!0),e}hasEnrollment(){return this.lo.enrollment!==void 0}hasWhiteList(){let e=!1;return this.lo.properties.whitelist!==void 0&&this.authLevel>0&&(e=this.lo.properties.whitelist==1),this.hasEnrollment()&&e}getStudents(){return this.lo.enrollment.students}createCompanions(){const e=this.lo.properties;if(e.slack&&this.companions.bar.push({link:e.slack,icon:"slack",target:"_blank",tip:"Go to module Slack channel"}),e.zoom&&this.companions.bar.push({link:e.zoom,icon:"zoom",tip:"Go to module Zoom meeting",target:"_blank"}),e.moodle&&this.companions.bar.push({link:e.moodle,icon:"moodle",target:"_blank",tip:"Go to module Moodle page"}),e.youtube&&this.companions.bar.push({link:e.youtube,icon:"youtube",target:"_blank",tip:"Go to module YouTube channel"}),e.teams&&this.companions.bar.push({link:e.teams,icon:"teams",target:"_blank",tip:"Go to module Teams meeting"}),e.companions)for(let[l,t]of Object.entries(e.companions)){const n=t;$i(l,n.icon),this.companions.bar.push({link:n.link,icon:l,target:"_blank",tip:n.title})}this.companions.show=this.companions.bar.length>0}createWallBar(){this.isPortfolio()||this.walls.forEach((e,l)=>{this.wallBar.bar.push(this.createWallLink(l)),this.wallBar.show=!0})}createWallLink(e){return{link:`/#/wall/${e}/${this.url}`,icon:e,tip:`${e}s`,target:""}}initCalendar(){const e={title:"unknown",weeks:[]};this.calendar=e;try{if(this.lo.calendar){const l=this.lo.calendar;e.title=l.title;for(let n=0;n<l.weeks.length;n++){const r={date:Object.entries(l.weeks[n])[0][0],title:Object.entries(l.weeks[n])[0][1].title,type:Object.entries(l.weeks[n])[0][1].type,dateObj:new Date(Object.entries(l.weeks[n])[0][0])};e.weeks.push(r)}const t=Date.now();for(let n=0;n<e.weeks.length-1;n++)t>Date.parse(e.weeks[n].date)&&t<=Date.parse(e.weeks[n+1].date)&&(this.currentWeek=e.weeks[n])}}catch{console.log("Error loading calendar")}}}function Qe(){if(!Fo())return!1;let i=JSON.parse(localStorage.getItem("expires_at"));return i?new Date().getTime()<i:!1}function bt(){return Lt().userId}function Fo(){return!!localStorage.getItem("id")}function qo(i){const e=Ke(i.email),l=Ke(i.name),t=Ke(i.picture),n=Ke(i.nickname);localStorage.setItem("id",e),localStorage.setItem("info",l),localStorage.setItem("infoextra",t),localStorage.setItem("infoextraplus",n)}function Lt(){const i=localStorage.getItem("id");return{userId:localStorage.getItem("id"),email:Ge(i),picture:Ge(localStorage.getItem("infoextra")),name:Ge(localStorage.getItem("info")),nickname:Ge(localStorage.getItem("infoextraplus")),onlineStatus:""}}function Ko(){localStorage.removeItem("id"),localStorage.removeItem("info"),localStorage.removeItem("infoextra"),localStorage.removeItem("infoextraplus"),localStorage.removeItem("course_url"),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at")}function Go(i){const l=6048e5+new Date().getTime();let t=JSON.stringify(l);localStorage.setItem("access_token",i.get("acces_token")),localStorage.setItem("id_token",i.get("id_token")),localStorage.setItem("expires_at",t)}function Xo(){Ko()}var Mn=Xe.enc.Hex.parse("000102030405060708090a0b0c0d0e0f"),Rn=Xe.enc.Hex.parse("101112131415161718191a1b1c1d1e1f");function Ke(i){return Xe.AES.encrypt(i,Mn,{iv:Rn}).toString()}function Ge(i){return Xe.AES.decrypt(i,Mn,{iv:Rn}).toString(Xe.enc.Utf8)}function Pl(i){let e,l,t,n,r,o,s,a,c,h,u,f,d,v=i[3].name+"",b,$,w,L,N,E,P,D,J,M,z,I,B,j,R,O,fe,be,Re,te,se,le,Y,ce,Ce,ke;return N=new x({props:{type:"tutorsTime"}}),z=new x({props:{type:"live"}}),fe=new x({props:{type:"github"}}),Y=new x({props:{type:"logout"}}),{c(){e=_("div"),l=_("div"),t=_("div"),n=_("div"),r=_("img"),a=C(),c=_("ul"),h=_("li"),u=_("div"),u.textContent="Logged in as:",f=C(),d=_("div"),b=X(v),$=C(),w=_("li"),L=_("a"),H(N.$$.fragment),E=C(),P=_("div"),P.textContent="Tutors Time",D=C(),J=_("li"),M=_("a"),H(z.$$.fragment),I=C(),B=_("div"),B.textContent="Tutors Live",j=C(),R=_("li"),O=_("a"),H(fe.$$.fragment),be=C(),Re=_("div"),Re.textContent="Github Profile",te=C(),se=_("li"),le=_("a"),H(Y.$$.fragment),ce=C(),Ce=_("div"),Ce.textContent="Logout",ue(r.src,o=i[3].picture)||p(r,"src",o),p(r,"alt",s=i[3].nickname),p(n,"class","rounded-full"),p(t,"class","avatar flex content-center w-8 h-8 mx-auto"),p(l,"class","navbar-icon"),p(u,"class","mt-2 mb-1 text-xs"),p(d,"class","mb-1"),p(P,"class","ml-2"),p(L,"href",i[0]),p(L,"target","_blank"),p(B,"class","ml-2"),p(M,"href",i[1]),p(M,"target","_blank"),p(Re,"class","ml-2"),p(O,"href",i[2]),p(O,"target","_blank"),p(Ce,"class","ml-2"),p(le,"href","#/logout"),p(c,"tabindex","0"),p(c,"class","shadow-xl menu dropdown-content bg-base-100 text-base-content w-48 p-1 rounded-box rounded-xl z-50"),p(e,"class","flex-none tooltip tooltip-top capitalize dropdown dropdown-end dropdown-hover"),p(e,"data-tip","My Account")},m(ne,Ie){T(ne,e,Ie),m(e,l),m(l,t),m(t,n),m(n,r),m(e,a),m(e,c),m(c,h),m(h,u),m(h,f),m(h,d),m(d,b),m(c,$),m(c,w),m(w,L),A(N,L,null),m(L,E),m(L,P),m(c,D),m(c,J),m(J,M),A(z,M,null),m(M,I),m(M,B),m(c,j),m(c,R),m(R,O),A(fe,O,null),m(O,be),m(O,Re),m(c,te),m(c,se),m(se,le),A(Y,le,null),m(le,ce),m(le,Ce),ke=!0},p(ne,Ie){(!ke||Ie&8&&!ue(r.src,o=ne[3].picture))&&p(r,"src",o),(!ke||Ie&8&&s!==(s=ne[3].nickname))&&p(r,"alt",s),(!ke||Ie&8)&&v!==(v=ne[3].name+"")&&Z(b,v),(!ke||Ie&1)&&p(L,"href",ne[0]),(!ke||Ie&2)&&p(M,"href",ne[1]),(!ke||Ie&4)&&p(O,"href",ne[2])},i(ne){ke||(g(N.$$.fragment,ne),g(z.$$.fragment,ne),g(fe.$$.fragment,ne),g(Y.$$.fragment,ne),ke=!0)},o(ne){k(N.$$.fragment,ne),k(z.$$.fragment,ne),k(fe.$$.fragment,ne),k(Y.$$.fragment,ne),ke=!1},d(ne){ne&&y(e),U(N),U(z),U(fe),U(Y)}}}function Jo(i){let e,l,t=i[3]&&i[4].authLevel>0&&Pl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[3]&&n[4].authLevel>0?t?(t.p(n,r),r&24&&g(t,1)):(t=Pl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}const jl="https://time.tutors.dev";function Qo(i,e,l){let t,n;ee(i,Je,u=>l(3,t=u)),ee(i,oe,u=>l(4,n=u));let r,o,s="",a="",c="";function h(){l(0,s=`${jl}/#/time/${o==null?void 0:o.url}?${bt()}`),l(1,a=`${jl}/#/live/${o==null?void 0:o.url}?${bt()}`)}return Je.subscribe(async u=>{u&&(r=u,l(2,c=`https://github.com/${r.nickname}`),r&&u&&h())}),oe.subscribe(async u=>{u&&(o=u,r&&u&&h())}),[s,a,c,t,n]}class Yo extends q{constructor(e){super();K(this,e,Qo,Jo,G,{})}}function Vl(i){let e,l,t,n,r;return l=new x({props:{type:"courseinfo",toolTip:"Information",button:"true",tipPos:"tooltip-bottom"}}),{c(){e=_("button"),H(l.$$.fragment)},m(o,s){T(o,e,s),A(l,e,null),t=!0,n||(r=de(e,"click",i[1]),n=!0)},p:S,i(o){t||(g(l.$$.fragment,o),t=!0)},o(o){k(l.$$.fragment,o),t=!1},d(o){o&&y(e),U(l),n=!1,r()}}}function Zo(i){var n;let e,l,t=((n=i[0])==null?void 0:n.lo.contentMd)&&Vl(i);return{c(){t&&t.c(),e=Q()},m(r,o){t&&t.m(r,o),T(r,e,o),l=!0},p(r,[o]){var s;((s=r[0])==null?void 0:s.lo.contentMd)?t?(t.p(r,o),o&1&&g(t,1)):(t=Vl(r),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(r){l||(g(t),l=!0)},o(r){k(t),l=!1},d(r){t&&t.d(r),r&&y(e)}}}function xo(i,e,l){let t;return ee(i,oe,r=>l(0,t=r)),[t,()=>kt.set(!0)]}class es extends q{constructor(e){super();K(this,e,xo,Zo,G,{})}}function Dl(i){let e,l,t,n,r,o,s,a=i[2].currentWeek.title+"",c,h,u,f,d;return l=new x({props:{type:"calendar",toolTip:"Full Calendar",button:"true",tipPos:"tooltip-bottom"}}),{c(){e=_("button"),H(l.$$.fragment),t=C(),n=_("div"),r=_("div"),r.textContent="Current Week",o=C(),s=_("div"),c=X(a),p(r,"class","text-sm pt-1"),p(s,"class","text-l pb-1"),p(n,"class",h="calendar "+i[1]+" "+i[0])},m(v,b){T(v,e,b),A(l,e,null),T(v,t,b),T(v,n,b),m(n,r),m(n,o),m(n,s),m(s,c),u=!0,f||(d=de(e,"click",i[3]),f=!0)},p(v,b){(!u||b&4)&&a!==(a=v[2].currentWeek.title+"")&&Z(c,a),(!u||b&3&&h!==(h="calendar "+v[1]+" "+v[0]))&&p(n,"class",h)},i(v){u||(g(l.$$.fragment,v),u=!0)},o(v){k(l.$$.fragment,v),u=!1},d(v){v&&y(e),U(l),v&&y(t),v&&y(n),f=!1,d()}}}function ts(i){let e,l,t=i[2].currentWeek&&Dl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[2].currentWeek?t?(t.p(n,r),r&4&&g(t,1)):(t=Dl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function ls(i,e,l){let t;ee(i,oe,a=>l(2,t=a));let n="bg-base-100",r="text-white",o;return oe.subscribe(async a=>{var c;switch(o=a,(c=o==null?void 0:o.currentWeek)==null?void 0:c.type){case"tuition":l(1,r="white"),l(0,n="bg-warning");break;case"reading":l(1,r="white"),l(0,n="bg-info");break;default:l(0,n="bg-warning")}}),[n,r,t,()=>$t.set(!0)]}class ns extends q{constructor(e){super();K(this,e,ls,ts,G,{})}}function is(i,e){if(!i.lab)return-1;if(i.lab&&e.lab)return i.lab.title.localeCompare(e.lab.title)}class rs{constructor(e,l,t,n){V(this,"students",[]);V(this,"metricsService");V(this,"refresh",null);V(this,"refreshStatus",null);this.metricsService=e,this.students=l,this.refresh=t,this.refreshStatus=n}setCourse(e){this.metricsService.setCourse(e)}start(){this.metricsService.subscribeToAllUsers(),this.metricsService.startListening(this.metricUpdate.bind(this),this.metricDelete.bind(this),this.statusChange.bind(this)),this.students=[]}stop(){this.metricsService.stopService(),this.metricsService.stopListening()}statusChange(e){this.refreshStatus&&this.refreshStatus(e)}metricDelete(e){let l=this.students.find(n=>n.nickname===e.nickname),t=this.students.indexOf(l);t!==-1&&this.students.splice(t,1),this.refresh&&this.refresh(this.students),Ht.set(this.students.length)}metricUpdate(e,l,t,n){if(e.onlineStatus==="offline")return;let r=this.students.find(o=>o.nickname===e.nickname);r||(r={name:e.name,nickname:e.nickname,img:e.picture,topic:null,lab:null,time:n},this.students.push(r)),r.time=n,l&&(r.topic=l),t&&(r.lab=t),this.students.sort(is),this.refresh&&this.refresh(this.students),Ht.set(this.students.length)}}function Hn(i){i.calendarActivity=[];const e=i.metrics.find(l=>l.id==="calendar");if(e){for(const[l,t]of Object.entries(e))if(l.startsWith("20")){const n={date:l,dateObj:Date.parse(l),metric:t};i.calendarActivity.push(n)}}}function An(i,e){i.labActivity=[];for(let l of e){const t=os(l.title,i);i.labActivity.push(t)}}function os(i,e){return Un(i,e.metrics)}function Un(i,e){let l=null;for(let t of e)if(!(t.id==="ab"||t.id==="alk"||t.id==="ideo")){if(l=ss(i,t),l!=null)return l}return l}function ss(i,e){return i===e.title?e:e.metrics.length>0?Un(i,e.metrics):null}function St(i,e){let l={id:"",metrics:[]};return l.id=i,e&&Object.entries(e).forEach(([t,n])=>{typeof n=="object"?l.metrics.push(St(t,n)):l[t]=n}),l}async function Bn(i,e,l){const t=i.substr(0,i.indexOf(".")),r=Ge(e).replace(/[`#$.\[\]\/]/gi,"*"),o=Te(Le()),s=await hn(mn(o,`${t}/users/${r}`));let a=null;return s.exists()&&(a=St("root",s.val()),Hn(a),l&&An(a,l)),a}async function zl(i,e){const l=i.substr(0,i.indexOf(".")),t=new Map,n=Te(Le()),r=await hn(mn(n,`${l}`));if(r.exists()){const o=St("root",r.val());o.metrics[0];for(let s of o.metrics[1].metrics)if(s.nickname){const a={userId:s.id,email:s.email,name:s.name,picture:s.picture,nickname:s.nickname,onlineStatus:s.onlineStatus,id:"home",title:s.title,count:s.count,last:s.last,duration:s.duration,metrics:s.metrics,labActivity:[],calendarActivity:[]};a.onlineStatus==null&&(a.onlineStatus="online"),Hn(a),e&&An(a,e),t.set(a.nickname,a)}}return t}function Wl(i,e,l){let t="";return i!=="course"&&(t=as(e,l)),t}function qe(i,e,l){me(`${i}/${e}/last`,new Date().toLocaleString()),me(`${i}/${e}/title`,l)}function ft(i,e,l){ot(`${i}/${e}/visits`)}function Fl(i,e,l){ot(`${i}/${e}/count`)}function ot(i){const e=Le(),l=Te(e,i);gn(l,function(t){return(t||0)+1})}function me(i,e){const l=Le(),t=Te(l,i);gn(t,function(){return e})}function as(i,e){let l=e.replace(i,"");return l=l.substr(l.indexOf("//")+2,l.length),l=l.replace(/[`#$.\[\]]/gi,"*"),l}function cs(i){var e=new Date,l=("0"+e.getDate()).slice(-2),t=("0"+(e.getMonth()+1)).slice(-2),n=e.getFullYear(),r=n+"-"+t+"-"+l;ot(`${i}/calendar/${r}`)}class On{constructor(){V(this,"course");V(this,"users",new Map);V(this,"userRefresh",new Map);V(this,"allLabs",[]);V(this,"courseBase","");V(this,"metricUpdate",null);V(this,"metricDelete",null);V(this,"statusChange",null);V(this,"canUpdate",!1)}setCourse(e){this.course=e,this.courseBase=e.url.substr(0,e.url.indexOf(".")),this.allLabs=this.course.walls.get("lab"),setInterval(this.sweepAndPurge.bind(this),1e3*120)}diffMinutes(e,l){var t=(e-l)/1e3;return t/=60,Math.abs(Math.round(t))}sweepAndPurge(){this.userRefresh.forEach((e,l)=>{this.diffMinutes(e,Date.now())>=5&&(this.userRefresh.delete(l),this.metricDelete&&this.metricDelete(this.users.get(l)))})}getLiveCount(){return this.userRefresh.size}getLiveUsers(){const e=[];return this.userRefresh.forEach((l,t)=>{const n=this.users.get(t);e.push(n)}),e}userUpdate(e){const l=Date.now();this.userRefresh.set(e.nickname,l)}userOnlineStatusChange(e,l){if(!!this.canUpdate)if(l==="offline"){e.onlineStatus=l,this.statusChange&&this.statusChange(e);const t=this.userRefresh.get(e.nickname);this.userUpdate(e),t&&(this.userRefresh.delete(e.nickname),this.metricDelete&&this.metricDelete(this.users.get(e.nickname)))}else e.onlineStatus="online",this.statusChange&&this.statusChange(e),this.userUpdate(e)}metricChange(e,l,t){!this.canUpdate||(this.userUpdate(e),this.metricUpdate&&this.metricUpdate(e,l,t,Date.now()))}async fetchUserById(e){const l=await Bn(this.course.url,e,this.allLabs);return l.hasOwnProperty("onlineStatus")||(l.onlineStatus="online"),l}async fetchAllUsers(){return await zl(this.course.url,this.allLabs)}filterUsers(e,l){const t=new Map;return l.forEach(n=>{t.set(n.github,n)}),e.forEach(n=>{const r=t.get(n.nickname);r?n.name=r.name:e.delete(n.nickname)}),e}startListening(e,l,t){this.metricUpdate=e,this.metricDelete=l,this.statusChange=t}stopListening(){this.metricUpdate=null,this.metricDelete=null}async subscribeToAllUsers(){try{this.users=await zl(this.course.url,this.allLabs),this.canUpdate=!1,setTimeout(()=>{this.canUpdate=!0},20*1e3),this.users.forEach(async l=>{const t=l.email.replace(/[`#$.\[\]\/]/gi,"*");this.allLabs&&await this.subscribeToUserLabs(l,t),this.course.topics&&await this.subscribeToUserTopics(l,t),await this.subscribeToUserStatus(l,t)})}catch{console.log("no users yet")}}setOnlineStatus(e,l){const t=e.email.replace(/[`#$.\[\]\/]/gi,"*"),n=`${this.courseBase}/users/${t}`;l?(me(`${n}/onlineStatus`,"online"),e.onlineStatus="online"):(e.onlineStatus="offline",me(`${n}/onlineStatus`,"offline"))}stopService(){this.users.forEach(e=>{const l=e.email.replace(/[`#$.\[\]\/]/gi,"*");this.unsubscribeToUserLabs(e,l),this.unsubscribeToUserTopics(e,l)})}async subscribeToUserStatus(e,l){const t=this,n=Le(),r=Te(n,`${this.courseBase}/users/${l}/onlineStatus`);ct(r,o=>{t.userOnlineStatusChange(e,o.val())})}async subscribeToUserLabs(e,l){const t=this;this.allLabs.forEach(n=>{const r=n.route.split("topic"),o=`${this.courseBase}/users/${l}/topic${r[1]}`,s=Le(),a=Te(s,o);ct(a,c=>{t.metricChange(e,null,n)})})}async subscribeToUserTopics(e,l){const t=this;this.course.topics.forEach(r=>{const o=`${this.courseBase}/users/${l}/${r.lo.id}`,s=Le(),a=Te(s,o);ct(a,c=>{const h=c.val();h&&h.title&&t.metricChange(e,r,null)})})}unsubscribeToUserLabs(e,l){this.allLabs.forEach(t=>{const n=t.route.split("topic"),r=`${this.courseBase}/users/${l}/topic${n[1]}`,o=Le(),s=Te(o,r);Mt(s)})}unsubscribeToUserTopics(e,l){this.course.topics.forEach(n=>{const r=`${this.courseBase}/users/${l}/${n.lo.id}`,o=Le(),s=Te(o,r);Mt(s)})}}function us(i){let e,l,t;return{c(){e=_("img"),p(e,"loading","lazy"),p(e,"class","tutorscard-image "+jn+" svelte-18x3y81"),ue(e.src,l=i[0].topic.lo.img)||p(e,"src",l),p(e,"alt",t=i[0].topic.lo.title)},m(n,r){T(n,e,r)},p(n,r){r&1&&!ue(e.src,l=n[0].topic.lo.img)&&p(e,"src",l),r&1&&t!==(t=n[0].topic.lo.title)&&p(e,"alt",t)},i:S,o:S,d(n){n&&y(e)}}}function fs(i){let e,l;return e=new De({props:{icon:i[0].topic.lo.icon.type,color:i[0].topic.lo.icon.color,height:Pn}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.icon=t[0].topic.lo.icon.type),n&1&&(r.color=t[0].topic.lo.icon.color),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ql(i){let e,l,t,n;const r=[ps,ds],o=[];function s(a,c){return a[0].lab.icon?0:1}return e=s(i),l=o[e]=r[e](i),{c(){l.c(),t=Q()},m(a,c){o[e].m(a,c),T(a,t,c),n=!0},p(a,c){let h=e;e=s(a),e===h?o[e].p(a,c):(W(),k(o[h],1,1,()=>{o[h]=null}),F(),l=o[e],l?l.p(a,c):(l=o[e]=r[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){k(l),n=!1},d(a){o[e].d(a),a&&y(t)}}}function ds(i){let e,l,t;return{c(){e=_("img"),p(e,"loading","lazy"),p(e,"class","tutorscard-image "+jn+" svelte-18x3y81"),ue(e.src,l=i[0].lab.img)||p(e,"src",l),p(e,"alt",t=i[0].lab.title)},m(n,r){T(n,e,r)},p(n,r){r&1&&!ue(e.src,l=n[0].lab.img)&&p(e,"src",l),r&1&&t!==(t=n[0].lab.title)&&p(e,"alt",t)},i:S,o:S,d(n){n&&y(e)}}}function ps(i){let e,l;return e=new De({props:{icon:i[0].lab.icon.type,color:i[0].lab.icon.color,height:Pn}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&1&&(r.icon=t[0].lab.icon.type),n&1&&(r.color=t[0].lab.icon.color),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Kl(i){let e,l,t=i[0].topic.lo.title+"",n;return{c(){e=_("div"),l=_("span"),n=X(t),p(l,"class","italic")},m(r,o){T(r,e,o),m(e,l),m(e,n)},p(r,o){o&1&&t!==(t=r[0].topic.lo.title+"")&&Z(n,t)},d(r){r&&y(e)}}}function Gl(i){let e,l,t=i[0].lab.title+"",n;return{c(){e=_("div"),l=_("span"),n=X(t),p(l,"class","italic")},m(r,o){T(r,e,o),m(e,l),m(e,n)},p(r,o){o&1&&t!==(t=r[0].lab.title+"")&&Z(n,t)},d(r){r&&y(e)}}}function hs(i){let e,l,t=i[0].name+"",n,r,o,s,a,c,h,u,f,d,v,b,$,w,L,N,E,P,D=new Date(i[0].time).toLocaleTimeString()+"",J,M,z,I,B,j,R,O;const fe=[fs,us],be=[];function Re(Y,ce){return Y[0].topic.lo.icon?0:1}b=Re(i),$=be[b]=fe[b](i);let te=i[0].lab&&ql(i),se=i[0].topic&&Kl(i),le=i[0].lab&&Gl(i);return{c(){e=_("div"),l=_("div"),n=X(t),r=C(),o=_("hr"),s=C(),a=_("div"),c=_("div"),h=_("img"),d=C(),v=_("div"),$.c(),w=C(),L=_("div"),te&&te.c(),N=C(),E=_("div"),P=_("div"),J=X(D),M=C(),z=_("hr"),I=C(),B=_("div"),se&&se.c(),j=C(),le&&le.c(),p(l,"class","text-center p-1 "+ms+" svelte-18x3y81"),p(h,"loading","lazy"),p(h,"class","object-scale-down"),ue(h.src,u=i[0].img)||p(h,"src",u),p(h,"alt",f=i[0].nickname),p(P,"class","italic mt-2"),p(B,"class","mt-2"),p(E,"class","text-xs text-center tutorscard-body"),p(a,"class","grid grid-cols-2 gap-1"),p(e,"class",_s+" "+gs+" border-"+ae("talk").colour+" svelte-18x3y81")},m(Y,ce){T(Y,e,ce),m(e,l),m(l,n),m(e,r),m(e,o),m(e,s),m(e,a),m(a,c),m(c,h),m(a,d),m(a,v),be[b].m(v,null),m(a,w),m(a,L),te&&te.m(L,null),m(a,N),m(a,E),m(E,P),m(P,J),m(E,M),m(E,z),m(E,I),m(E,B),se&&se.m(B,null),m(B,j),le&&le.m(B,null),O=!0},p(Y,[ce]){(!O||ce&1)&&t!==(t=Y[0].name+"")&&Z(n,t),(!O||ce&1&&!ue(h.src,u=Y[0].img))&&p(h,"src",u),(!O||ce&1&&f!==(f=Y[0].nickname))&&p(h,"alt",f);let Ce=b;b=Re(Y),b===Ce?be[b].p(Y,ce):(W(),k(be[Ce],1,1,()=>{be[Ce]=null}),F(),$=be[b],$?$.p(Y,ce):($=be[b]=fe[b](Y),$.c()),g($,1),$.m(v,null)),Y[0].lab?te?(te.p(Y,ce),ce&1&&g(te,1)):(te=ql(Y),te.c(),g(te,1),te.m(L,null)):te&&(W(),k(te,1,1,()=>{te=null}),F()),(!O||ce&1)&&D!==(D=new Date(Y[0].time).toLocaleTimeString()+"")&&Z(J,D),Y[0].topic?se?se.p(Y,ce):(se=Kl(Y),se.c(),se.m(B,j)):se&&(se.d(1),se=null),Y[0].lab?le?le.p(Y,ce):(le=Gl(Y),le.c(),le.m(B,null)):le&&(le.d(1),le=null)},i(Y){O||(g($),g(te),pe(()=>{R||(R=ge(e,lt,{},!0)),R.run(1)}),O=!0)},o(Y){k($),k(te),R||(R=ge(e,lt,{},!1)),R.run(0),O=!1},d(Y){Y&&y(e),be[b].d(),te&&te.d(),se&&se.d(),le&&le.d(),Y&&R&&R.end()}}}let ms="text-xs font-medium",gs="w-40 h-56",_s="tutorscard-compact",Pn="80",jn="h-20";function bs(i,e,l){let{student:t}=e;return t.topic.lo&&!t.topic.lo.icon&&t.topic.lo.frontMatter&&t.topic.lo.frontMatter.icon&&(t.topic.lo.icon={type:t.topic.lo.frontMatter.icon.type,color:t.topic.lo.frontMatter.icon.color}),t.lab&&!t.lab.icon&&t.lab.frontMatter&&t.lab.frontMatter.icon&&(t.lab.icon={type:t.lab.frontMatter.icon.type,color:t.lab.frontMatter.icon.color}),i.$$set=n=>{"student"in n&&l(0,t=n.student)},[t]}class vs extends q{constructor(e){super();K(this,e,bs,hs,G,{student:0})}}function Xl(i,e,l){const t=i.slice();return t[13]=e[l],t}function Jl(i){let e,l,t,n,r,o,s,a,c,h,u,f,d,v,b,$,w=i[3],L=[];for(let E=0;E<w.length;E+=1)L[E]=Ql(Xl(i,w,E));const N=E=>k(L[E],1,1,()=>{L[E]=null});return{c(){e=_("div"),l=_("label"),t=_("div"),n=X(i[2]),r=X(" online"),o=C(),s=_("input"),a=C(),c=_("div"),h=_("div"),u=_("h2"),u.textContent="Online Now",f=C(),d=_("div");for(let E=0;E<L.length;E+=1)L[E].c();v=C(),b=_("div"),b.innerHTML='<label for="my-modal" class="btn">close</label>',p(t,"class","badge badge-md"),p(l,"for","my-modal"),p(l,"class","btn btn-primary modal-button"),p(e,"class","tooltip tooltip-bottom"),p(e,"data-tip","See who is online now"),p(s,"type","checkbox"),p(s,"id","my-modal"),p(s,"class","modal-toggle"),p(u,"class","p-2 text-l text-center font-normal}"),p(d,"class","col-span-6 wall-bg"),p(b,"class","modal-action"),p(h,"class","container mx-auto mt-4 mb-4 carddeck-bg"),p(c,"class","modal border-4")},m(E,P){T(E,e,P),m(e,l),m(l,t),m(t,n),m(t,r),T(E,o,P),T(E,s,P),T(E,a,P),T(E,c,P),m(c,h),m(h,u),m(h,f),m(h,d);for(let D=0;D<L.length;D+=1)L[D].m(d,null);m(h,v),m(h,b),$=!0},p(E,P){if((!$||P&4)&&Z(n,E[2]),P&8){w=E[3];let D;for(D=0;D<w.length;D+=1){const J=Xl(E,w,D);L[D]?(L[D].p(J,P),g(L[D],1)):(L[D]=Ql(J),L[D].c(),g(L[D],1),L[D].m(d,null))}for(W(),D=w.length;D<L.length;D+=1)N(D);F()}},i(E){if(!$){for(let P=0;P<w.length;P+=1)g(L[P]);$=!0}},o(E){L=L.filter(Boolean);for(let P=0;P<L.length;P+=1)k(L[P]);$=!1},d(E){E&&y(e),E&&y(o),E&&y(s),E&&y(a),E&&y(c),ie(L,E)}}}function Ql(i){let e,l;return e=new vs({props:{student:i[13]}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&8&&(r.student=t[13]),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Yl(i){let e,l,t,n,r,o,s,a;return{c(){e=_("div"),l=_("div"),t=_("label"),n=_("span"),n.textContent="Share Presence",r=C(),o=_("input"),p(n,"class","label-text text-sm text-white mr-2"),p(o,"type","checkbox"),p(o,"class","checkbox checkbox-primary"),p(t,"class","cursor-pointer label"),p(l,"class","tooltip tooltip-bottom"),p(l,"data-tip","Share your Presence & see who is online"),p(e,"class","hidden lg:block w-auto h-auto pl-2 text-base-content tooltip text-white")},m(c,h){T(c,e,h),m(e,l),m(l,t),m(t,n),m(t,r),m(t,o),o.checked=i[0],s||(a=[de(o,"change",i[5]),de(o,"click",i[4])],s=!0)},p(c,h){h&1&&(o.checked=c[0])},d(c){c&&y(e),s=!1,pn(a)}}}function ks(i){let e,l,t,n=i[2]>1&&i[0]&&Jl(i),r=i[1]&&Yl(i);return{c(){n&&n.c(),e=C(),r&&r.c(),l=Q()},m(o,s){n&&n.m(o,s),T(o,e,s),r&&r.m(o,s),T(o,l,s),t=!0},p(o,[s]){o[2]>1&&o[0]?n?(n.p(o,s),s&5&&g(n,1)):(n=Jl(o),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(W(),k(n,1,1,()=>{n=null}),F()),o[1]?r?r.p(o,s):(r=Yl(o),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(o){t||(g(n),t=!0)},o(o){k(n),t=!1},d(o){n&&n.d(o),o&&y(e),r&&r.d(o),o&&y(l)}}}function $s(i,e,l){let t;ee(i,oe,b=>l(9,t=b));let n=!1,r=!1,o;const s=re("metrics");let a=0,c=[],h=null,u=null;function f(){l(0,n=!n),s.setOnlineStatus(o,n)}Je.subscribe(async b=>{o=b;let $=await t;$.hasEnrollment()&&Qe()&&(l(1,r=!0),s.setCourse($),o&&!o.hasOwnProperty("onlineStatus")?o.onlineStatus="online":o&&l(0,n=o.onlineStatus==="online"))});function d(b){l(2,a=b.length),l(3,c=[...b])}oe.subscribe(b=>{b.hasEnrollment()&&Qe()?b!=h&&(l(2,a=0),u&&u.stop(),u=new rs(new On,c,d,null),h=b,u.setCourse(b),u.start()):(u&&u.stop(),h=null,l(2,a=0))}),ye(async()=>{u&&u.stop()});function v(){n=this.checked,l(0,n)}return[n,r,a,c,f,v]}class ws extends q{constructor(e){super();K(this,e,$s,ks,G,{})}}function Zl(i){let e,l,t,n,r,o,s,a,c,h,u,f,d,v,b,$,w,L,N,E,P,D,J,M,z,I,B=!i[0].isPortfolio()&&!i[1],j;t=new es({}),r=new uo({}),a=new ws({}),h=new ns({}),f=new Mo({}),v=new Tn({}),$=new ho({}),L=new jo({}),E=new Yo({}),D=new Ao({});let R=B&&xl();return{c(){e=_("div"),l=_("div"),H(t.$$.fragment),n=C(),H(r.$$.fragment),o=C(),s=_("div"),H(a.$$.fragment),c=C(),H(h.$$.fragment),u=C(),H(f.$$.fragment),d=C(),H(v.$$.fragment),b=C(),H($.$$.fragment),w=C(),H(L.$$.fragment),N=C(),H(E.$$.fragment),P=C(),H(D.$$.fragment),z=C(),I=_("div"),R&&R.c(),p(l,"class","navbar"),p(I,"class","navbar-secondary"),p(e,"class","header-container")},m(O,fe){T(O,e,fe),m(e,l),A(t,l,null),m(l,n),A(r,l,null),m(l,o),m(l,s),A(a,s,null),m(s,c),A(h,s,null),m(s,u),A(f,s,null),m(s,d),A(v,s,null),m(s,b),A($,s,null),m(s,w),A(L,s,null),m(s,N),A(E,s,null),m(s,P),A(D,s,null),m(e,z),m(e,I),R&&R.m(I,null),j=!0},p(O,fe){fe&3&&(B=!O[0].isPortfolio()&&!O[1]),B?R?fe&3&&g(R,1):(R=xl(),R.c(),g(R,1),R.m(I,null)):R&&(W(),k(R,1,1,()=>{R=null}),F())},i(O){j||(g(t.$$.fragment,O),g(r.$$.fragment,O),g(a.$$.fragment,O),g(h.$$.fragment,O),g(f.$$.fragment,O),g(v.$$.fragment,O),g($.$$.fragment,O),g(L.$$.fragment,O),g(E.$$.fragment,O),g(D.$$.fragment,O),pe(()=>{M&&M.end(1),J=Ee(l,we,{y:-100,duration:1e3}),J.start()}),g(R),j=!0)},o(O){k(t.$$.fragment,O),k(r.$$.fragment,O),k(a.$$.fragment,O),k(h.$$.fragment,O),k(f.$$.fragment,O),k(v.$$.fragment,O),k($.$$.fragment,O),k(L.$$.fragment,O),k(E.$$.fragment,O),k(D.$$.fragment,O),J&&J.invalidate(),M=ze(l,we,{y:-100,duration:500}),k(R),j=!1},d(O){O&&y(e),U(t),U(r),U(a),U(h),U(f),U(v),U($),U(L),U(E),U(D),O&&M&&M.end(),R&&R.d()}}}function xl(i){let e,l,t,n,r,o;return e=new ko({}),t=new Lo({}),r=new Io({}),{c(){H(e.$$.fragment),l=C(),H(t.$$.fragment),n=C(),H(r.$$.fragment)},m(s,a){A(e,s,a),T(s,l,a),A(t,s,a),T(s,n,a),A(r,s,a),o=!0},i(s){o||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(r.$$.fragment,s),o=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),k(r.$$.fragment,s),o=!1},d(s){U(e,s),s&&y(l),U(t,s),s&&y(n),U(r,s)}}}function ys(i){let e,l,t=i[0]&&Zl(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[0]?t?(t.p(n,r),r&1&&g(t,1)):(t=Zl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function Ts(i,e,l){let t,n;return ee(i,oe,r=>l(0,t=r)),ee(i,pt,r=>l(1,n=r)),[t,n]}class Ls extends q{constructor(e){super();K(this,e,Ts,ys,G,{})}}function Ss(i){let e;return{c(){e=_("div"),e.innerHTML="<div>You have been logged out of Tutors</div>",p(e,"class","container mx-auto text-center mt-8")},m(l,t){T(l,e,t)},p:S,i:S,o:S,d(l){l&&y(e)}}}function Cs(i){return Me(async()=>{Je.set(null),Xo()}),[]}class Is extends q{constructor(e){super();K(this,e,Cs,Ss,G,{})}}function Ns(i){let e,l,t,n,r,o,s,a,c,h,u,f,d,v;return s=new Tn({}),{c(){e=_("div"),l=_("div"),t=_("div"),n=_("div"),r=_("div"),r.textContent="TutorsTime",o=C(),H(s.$$.fragment),a=C(),c=_("div"),c.innerHTML=`<p class="p-2">You have been authenticated via your GitHib credentials and are about to enter a Tutors course. Tutors will
          record how much time each view is active and send this to the TutorsTime data store. You can view this
          information via the TutorsTime feature on the course Navigator.</p> 
        <p class="p-2">This data is available to you + the instructor of your course, but not to other students. No
          other data is gathered, nor is this data transmitted anywhere other than the TutorsTime data store.</p> 
        <p class="p-2">TutorsLive also uses this data to display of panel of students currently online. You can opt out of this feature from
          the TutorsLive page.</p> 
        <p class="p-2">To learn more about these features please consult:</p> 
        <ul class="list-disc list-inside ml-4 underline text-blue-600 hover:text-blue-800 visited:text-purple-600"><li><a target="_blank" href="https://github.com/tutors-sdk/tutors-faqs/blob/main/tutors-time-faq.md">Tutors Time FAQ</a></li> 
          <li><a target="_blank" href="https://github.com/tutors-sdk/tutors-faqs/blob/main/tutors-live-faq.md">Tutors
            Live FAQ</a></li></ul> 
        <p class="p-2">Tutors is an open source application - the data collection component <a class="underline text-blue-600 hover:text-blue-800 visited:text-purple-600" href="https://github.com/tutors-sdk/tutors-next/blob/development/src/services/analytics-service.ts" target="_blank">is
          here</a>.</p> 
        <p class="p-2">You will be asked to authenticate again in seven days time.</p>`,h=C(),u=_("button"),u.textContent="Proceed to Course",p(r,"class","font-sm font-light text-xl text-center"),p(n,"class","flex justify-between w-full border-gray-400 border-b-2 p-2"),p(c,"class","font-sm font-light text-l text-left p-2"),p(u,"class","btn btn-rounded btn-info"),p(t,"class","flex flex-wrap justify-items-center shadow-md rounded-lg px-4 py-2 bg-base-200 text-base-content m-8"),p(l,"class","text-center max-w-screen-md"),p(e,"class","flex h-screen justify-center items-center")},m(b,$){T(b,e,$),m(e,l),m(l,t),m(t,n),m(n,r),m(n,o),A(s,n,null),m(t,a),m(t,c),m(t,h),m(t,u),f=!0,d||(v=de(u,"click",i[0]),d=!0)},p:S,i(b){f||(g(s.$$.fragment,b),f=!0)},o(b){k(s.$$.fragment,b),f=!1},d(b){b&&y(e),U(s),d=!1,v()}}}function Es(i,e,l){let{authenticating:t=!1}=e;function n(){l(1,t=!1)}return i.$$set=r=>{"authenticating"in r&&l(1,t=r.authenticating)},[n,t]}class Ms extends q{constructor(e){super();K(this,e,Es,Ns,G,{authenticating:1})}}let Vn=!1;oe.subscribe(i=>{i&&(Vn=i.areLabStepsAutoNumbered())});class Rs{constructor(e,l){V(this,"lo",null);V(this,"url","");V(this,"objectivesHtml","");V(this,"currentChapterShortTitle","");V(this,"currentChapterTitle","");V(this,"navbarHtml","");V(this,"horizontalNavbarHtml","");V(this,"content","");V(this,"chaptersHtml",new Map);V(this,"chaptersTitles",new Map);V(this,"steps",[]);V(this,"vertical",!0);this.url=l,this.lo=e,this.objectivesHtml=Ve(this.lo.los[0].contentMd,this.url),this.lo.los.forEach(t=>{this.chaptersHtml.set(encodeURI(t.shortTitle),Ve(t.contentMd,this.url)),this.chaptersTitles.set(t.shortTitle,Sn(t.title))}),this.steps=Array.from(this.chaptersHtml.keys())}refreshNav(){let e="";this.horizontalNavbarHtml="",this.lo.los.forEach((l,t)=>{let n=Vn==!0?l.shortTitle+": ":"";const r=encodeURI(l.shortTitle)==this.currentChapterShortTitle?"font-bold bordered":"";let o=this.chaptersTitles.get(l.shortTitle);if(e=e.concat(`<li class="py-1 text-base ${r}"> <a href="/#/lab/${this.url}/${encodeURI(l.shortTitle)}"> ${n}${o} </a> </li>`),encodeURI(l.shortTitle)==this.currentChapterShortTitle){if(this.lo.los[t-1]!==void 0){let s=this.lo.los[t-1],a=this.chaptersTitles.get(s.shortTitle);this.horizontalNavbarHtml=this.horizontalNavbarHtml.concat(`<a class="btn btn-sm capitalize" href="/#/lab/${this.url}/${encodeURI(s.shortTitle)}"> <span aria-hidden="true">&larr;</span>&nbsp; ${n}${a} </a>`)}if(this.lo.los[t+1]!==void 0){let s=this.lo.los[t+1],a=this.chaptersTitles.get(s.shortTitle);this.horizontalNavbarHtml=this.horizontalNavbarHtml.concat(`<a class="ml-auto btn btn-sm capitalize" style="margin-left: auto" href="/#/lab/${this.url}/${encodeURI(s.shortTitle)}"> ${n}${a} &nbsp;<span aria-hidden="true">&rarr;</span></a>`)}}}),this.navbarHtml=e}setFirstPageActive(){const e=encodeURI(this.lo.los[0].shortTitle);this.currentChapterShortTitle=e,this.currentChapterTitle=this.chaptersTitles.get(e),this.content=this.chaptersHtml.get(e),this.refreshNav()}setActivePage(e){this.steps.indexOf(e)<0||(this.currentChapterShortTitle=e,this.currentChapterTitle=this.chaptersTitles.get(e),this.content=this.chaptersHtml.get(e),this.refreshNav())}nextStep(){let e="";const l=this.steps.indexOf(this.currentChapterShortTitle);return l<this.steps.length-1&&(e=this.steps[l+1]),e}prevStep(){let e="";const l=this.steps.indexOf(this.currentChapterShortTitle);return l>0&&(e=this.steps[l-1]),e}}class Hs{constructor(){V(this,"course");V(this,"courses",new Map);V(this,"courseUrl","");V(this,"loadError",!1)}async getCourse(e){if((!this.course||this.course.url!==e)&&(this.courseUrl=e,this.course=this.courses.get(e),!this.course)){this.course=new Wo(e);try{await this.course.fetchCourse()}catch(l){this.courseUrl="",this.course=null,this.loadError=!0,console.log(l)}}}async fetchCourse(e){if(await this.getCourse(e),!this.loadError){if(this.course.hasWhiteList()&&Qe()){const l=Lt();this.course.getStudents().find(n=>n.github===l.nickname)||(console.log("Not Authorised to access this models"),_n("/unauthorised"))}if(oe.set(this.course),Qe()){const l=await Bn(this.course.url,bt(),null);Je.set(l)}ki.set(this.course.currentWeek),bn.set(e)}return this.course}async fetchTopic(e){return await this.fetchCourse(fi.dirname(e)),this.course.topicIndex.get(Vo(e))}async fetchCourseFromTalk(e){return e=e.substring(0,e.indexOf("/")),await this.fetchCourse(e),this.course}async fetchWall(e){const l=e.split("/");return await this.fetchCourse(l[1]),this.course.walls.get(l[0])}async fetchLab(e){let l=e.substring(0,e.indexOf("/"));await this.fetchCourse(l);let t=`/#/lab/${e}`;e.substr(e.lastIndexOf("/")+1).startsWith("book")||(e=e.substr(0,e.lastIndexOf("/")),t=`/#/lab/${e}`);const r=this.course.labIndex.get(t);let o=this.course.hydratedLabs.get(t);return o||(o=new Rs(r,e),this.course.hydratedLabs.set(t,o)),o}}const As="GaRinBEbq5RiS2hwsKe4Tr96vQ4gmHAv",Us="dev-ag-6r7t5.eu.auth0.com",Bs="https://reader.tutors.dev",Os="AIzaSyAzoLn7SfXkH58oBRq4dFjLW6DgIpdUf9w",Ps="https://tutors-177ed.firebaseio.com",js="tutors-177ed";let Vs={auth0:{clientId:As,domain:Us,redirectUri:Bs},firebase:{apiKey:Os,databaseURL:Ps,projectId:js}};function Ne(){return Vs}const Dn=new di({domain:Ne().auth0.domain,clientID:Ne().auth0.clientId,redirectUri:Ne().auth0.redirectUri,audience:`https://${Ne().auth0.domain}/userinfo`,responseType:"token id_token",scope:"openid"});function en(i,e,l){let t=!0;if(i.authLevel>0)if(!Qe())t=!1,localStorage.setItem("course_url",i.url),zs();else{const n=Lt();l.reportLogin(n,i.url)}return t}function Ds(i,e){let l=new URLSearchParams(i);const t=l.get("access_token"),n=l.get("id_token");t&&n&&Dn.client.userInfo(t,function(r,o){r&&console.log("Error loading the Profile",r),qo(o);const s=localStorage.getItem("course_url");o.userId=Ke(o.email),e.reportLogin(o,s),Go(l),_n(`/course/${s}`)})}function zs(){Dn.authorize({prompt:"login",scope:"openid profile email"})}let zn=null,nt=null,Wn="",Fn=null;const Ws=()=>{nt&&!document.hidden&&Ne().firebase.apiKey!=="XXX"&&zn.reportPageCount(Wn,nt,Fn)};setInterval(Ws,30*1e3);class Fs{constructor(){V(this,"courseBaseName","");V(this,"userEmail","");V(this,"userEmailSanitised","");V(this,"userId","");V(this,"firebaseIdRoot","");V(this,"firebaseEmailRoot","");V(this,"url","");Ne().firebase.apiKey!=="XXX"&&pi(Ne().firebase),zn=this}setOnlineStatus(e,l){nt=e,en(e,"course",this),this.firebaseEmailRoot=`${this.courseBaseName}/users/${this.userEmailSanitised}`,l?me(`${this.firebaseEmailRoot}/onlineStatus`,"online"):me(`${this.firebaseEmailRoot}/onlineStatus`,"offline")}pageLoad(e,l,t){Ne().firebase.apiKey!=="XXX"&&(nt=l,Wn=e,Fn=t,l.authLevel>0&&t.type!="course"&&en(l,"course",this),this.reportPageLoad(e,l,t))}initRoot(e){this.url=e,this.courseBaseName=e.substr(0,e.indexOf(".")),this.firebaseIdRoot=`${this.courseBaseName}/usage`}reportLogin(e,l){this.courseBaseName.startsWith("master--")||this.courseBaseName.startsWith("main--")||(this.userEmail!==e.email||this.url!==l)&&(this.initRoot(l),this.userEmail=e.email,this.userId=e.userId,this.userEmailSanitised=e.email.replace(/[`#$.\[\]\/]/gi,"*"),this.firebaseEmailRoot=`${this.courseBaseName}/users/${this.userEmailSanitised}`,this.updateLogin(e))}reportPageLoad(e,l,t){if(this.courseBaseName.startsWith("master--")||this.courseBaseName.startsWith("main--")||!t)return;this.initRoot(l.url);let n=Wl(t.type,l.url,e);qe(this.firebaseIdRoot,n,t.title),ft(this.firebaseIdRoot,n,t.title),qe(`all-course-access/${this.courseBaseName}`,"",t.title),ft(`all-course-access/${this.courseBaseName}`,"",t.title),this.userEmail&&(this.firebaseEmailRoot=`${this.courseBaseName}/users/${this.userEmailSanitised}`,qe(this.firebaseEmailRoot,n,t.title),ft(this.firebaseEmailRoot,n,t.title))}reportPageCount(e,l,t){if(this.courseBaseName.startsWith("master--")||this.courseBaseName.startsWith("main--")||!t)return;this.initRoot(l.url);let n=Wl(t.type,l.url,e);qe(this.firebaseIdRoot,n,t.title),Fl(this.firebaseIdRoot,n,t.title),this.userEmail&&(qe(this.firebaseEmailRoot,n,t.title),Fl(this.firebaseEmailRoot,n,t.title),cs(this.firebaseEmailRoot))}updateLogin(e){me(`${this.firebaseEmailRoot}/email`,e.email),me(`${this.firebaseEmailRoot}/name`,e.name),me(`${this.firebaseEmailRoot}/id`,e.userId),me(`${this.firebaseEmailRoot}/nickname`,e.nickname),me(`${this.firebaseEmailRoot}/picture`,e.picture),me(`${this.firebaseEmailRoot}/last`,new Date().toString()),ot(`${this.firebaseEmailRoot}/count`)}}const qs=100,Ks="```",Gs="~~~";function Xs(i,e){let l=Zs(i),t=[];return l.forEach(n=>{var s;let r=n.lab.contentMd,o=Js(r,e);for(let a of o){const c={fenced:a.style!=="unfenced",language:a.language,contentMd:a.content,lab:n.lab,title:`${n.lab.parentLo.title}/${Sn(n.lab.title)}`,link:(s=n.lab)==null?void 0:s.route,html:""};c.link=c.link.substring(1),c.link="#/"+c.link,t.push(c)}}),t.slice(0,qs)}function Js(i,e){let l=[],t=Ct(i,e);for(let n=0;n<t.length;n+=1){let r=ia(e,t[n],i),o=la(i,t[n]),s="";o==="fenced"&&(s=Qs(i,t[n]));let a=Ys(i,t[n]);l.push({content:r,style:o,fence:a,language:s})}return l}function Qs(i,e){let l=It(i),t=st(l,e),n="",r=t[1]+3;for(;i.charAt(r)!==`
`;)n+=i.charAt(r),r+=1;return n}function Ys(i,e){let l=It(i),t=st(l,e);return i.charAt(t[1])==="~"?"~~~":"```"}function Zs(i){return qn(i,"")}function qn(i,e,l=[]){for(let t=0,n=i.length;t<n;t++){const r=i[t];Array.isArray(r.los)?qn(r.los,i[t].parent.lo.title,l):l.push({lab:r,topicTitle:e})}return l}function xs(i){return i.trim().length===0}function ea(i){return!xs(i)}function Ct(i,e){let l=[];function t(n,r,o){let s=n.indexOf(r);if(s!=-1){let a=s;o.length&&(s+=o[o.length-1]+r.length),o.push(s),t(n.slice(a+r.length),r,o)}else return}return t(i,e,l),l}function It(i){let e=tn(i,Ks).concat(tn(i,Gs));return ta(e)}function ta(i){return i.sort((e,l)=>e-l)}function la(i,e){let l=It(i);if(l.length==0)return"unfenced";let t=st(l,e);return na(t[0])?"fenced":"unfenced"}function tn(i,e){return Ct(i,e)}function na(i){return i%2==0}function ia(i,e,l){let t=Ct(l,oa()),n=st(t,e),r=ra(t,e,l.length);return l.substring(n[1],r[1])}function st(i,e){for(let l=i.length-1;l>=0;l--)if(i[l]<e)return[l,i[l]];return[-1,-1]}function ra(i,e,l){for(let t=0;t<i.length;t+=1){if(e>i[i.length-1])return[t,l];if(i[t]>e)return[t,i[t]]}return[-1,-1]}function oa(){return`
`}function ln(i,e,l){const t=i.slice();return t[11]=e[l],t}function nn(i){let e,l,t,n,r,o,s,a,c,h,u=i[1],f=[];for(let d=0;d<u.length;d+=1)f[d]=rn(ln(i,u,d));return{c(){e=_("div"),l=_("div"),t=_("label"),t.textContent="Enter search term:",n=C(),r=_("div"),o=_("input"),s=C(),a=_("div");for(let d=0;d<f.length;d+=1)f[d].c();p(t,"for","search"),p(t,"class","block text-xl text-base-content p-2"),p(o,"type","text"),p(o,"name","email"),p(o,"id","search"),p(o,"class","input input-bordered w-full"),p(o,"placeholder","..."),p(r,"class","mt-1 border"),p(l,"class","unitcard-container"),p(e,"class","container mx-auto")},m(d,v){T(d,e,v),m(e,l),m(l,t),m(l,n),m(l,r),m(r,o),Rt(o,i[0]),m(l,s),m(l,a);for(let b=0;b<f.length;b+=1)f[b].m(a,null);c||(h=de(o,"input",i[5]),c=!0)},p(d,v){if(v&1&&o.value!==d[0]&&Rt(o,d[0]),v&2){u=d[1];let b;for(b=0;b<u.length;b+=1){const $=ln(d,u,b);f[b]?f[b].p($,v):(f[b]=rn($),f[b].c(),f[b].m(a,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}},d(d){d&&y(e),ie(f,d),c=!1,h()}}}function rn(i){let e,l,t,n=i[11].html+"",r,o,s,a=i[11].title+"",c,h,u;return{c(){e=_("div"),l=_("div"),t=_("div"),r=C(),o=_("div"),s=_("a"),c=X(a),u=C(),p(s,"href",h=i[11].link),p(s,"target","_blank"),p(o,"class","text-right text-sm"),p(l,"class","labsearchresult "),p(e,"class","border-2 rounded-2xl")},m(f,d){T(f,e,d),m(e,l),m(l,t),t.innerHTML=n,m(l,r),m(l,o),m(o,s),m(s,c),m(e,u)},p(f,d){d&2&&n!==(n=f[11].html+"")&&(t.innerHTML=n),d&2&&a!==(a=f[11].title+"")&&Z(c,a),d&2&&h!==(h=f[11].link)&&p(s,"href",h)},d(f){f&&y(e)}}}function sa(i){let e,l=i[2]&&nn(i);return{c(){l&&l.c(),e=Q()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,[n]){t[2]?l?l.p(t,n):(l=nn(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:S,o:S,d(t){l&&l.d(t),t&&y(e)}}}function aa(i,e,l){const t=re("cache");let{params:n={}}=e,r=[],o,s="",a=[];Me(async()=>{l(2,o=await t.fetchCourse(n.wild)),_e.set(o.lo),o.lo.title,l(4,r=Ae("lab",o.lo.los))});function c(u){u.forEach(f=>{let d=[];f.fenced&&d.push(`~~~${f.language}`),d.push(f.contentMd),f.fenced&&d.push("~~~"),f.html=Ve(d.join(`
`),o.url),f.link=`https://reader.tutors.dev/${f.link}`,console.log(f)})}function h(){s=this.value,l(0,s)}return i.$$set=u=>{"params"in u&&l(3,n=u.params)},i.$$.update=()=>{i.$$.dirty&19&&ea(s)&&(l(1,a=Xs(r,s)),c(a),dt(s))},[s,a,o,n,r,h]}class ca extends q{constructor(e){super();K(this,e,aa,sa,G,{params:3})}}function on(i){let e,l;return e=new wt({props:{title:"Course Information",show:kt,origin:"left-0",direction:-1e3,$$slots:{default:[ua]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&33&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ua(i){let e;return{c(){e=_("div"),p(e,"class","prose")},m(l,t){T(l,e,t),e.innerHTML=i[0]},p(l,t){t&1&&(e.innerHTML=l[0])},d(l){l&&y(e)}}}function fa(i){let e,l,t=i[2]&&i[1]&&on(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[2]&&n[1]?t?(t.p(n,r),r&6&&g(t,1)):(t=on(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function da(i,e,l){let t;ee(i,kt,a=>l(2,t=a));let n=null;const r=re("cache");let o="",s=!1;return vt(()=>{n=r.course,n&&(l(1,s=!0),l(0,o=Ve(n.lo.contentMd,null)))}),[o,s,t]}class pa extends q{constructor(e){super();K(this,e,da,fa,G,{})}}function sn(i,e,l){const t=i.slice();return t[8]=e[l],t}function an(i){let e,l;return e=new wt({props:{title:"Academic Calendar",show:$t,origin:"left-0",direction:-1e3,$$slots:{default:[ga]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&2055&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ha(i){let e,l,t=i[8].title+"",n,r,o,s=i[8].type+"",a,c,h,u=i[5][i[8].dateObj.getMonth(i[8].dateObj)]+"",f,d,v=i[8].dateObj.getDate()+"",b,$;return{c(){e=_("tr"),l=_("td"),n=X(t),r=C(),o=_("td"),a=X(s),c=C(),h=_("td"),f=X(u),d=C(),b=X(v),$=C()},m(w,L){T(w,e,L),m(e,l),m(l,n),m(e,r),m(e,o),m(o,a),m(e,c),m(e,h),m(h,f),m(h,d),m(h,b),m(e,$)},p(w,L){L&2&&t!==(t=w[8].title+"")&&Z(n,t),L&2&&s!==(s=w[8].type+"")&&Z(a,s),L&2&&u!==(u=w[5][w[8].dateObj.getMonth(w[8].dateObj)]+"")&&Z(f,u),L&2&&v!==(v=w[8].dateObj.getDate()+"")&&Z(b,v)},d(w){w&&y(e)}}}function ma(i){let e,l,t=i[8].title+"",n,r,o,s=i[8].type+"",a,c,h,u=i[5][i[8].dateObj.getMonth(i[8].dateObj)]+"",f,d,v=i[8].dateObj.getDate()+"",b,$;return{c(){e=_("tr"),l=_("td"),n=X(t),r=C(),o=_("td"),a=X(s),c=C(),h=_("td"),f=X(u),d=C(),b=X(v),$=C(),p(e,"class","bg-warning text-white")},m(w,L){T(w,e,L),m(e,l),m(l,n),m(e,r),m(e,o),m(o,a),m(e,c),m(e,h),m(h,f),m(h,d),m(h,b),m(e,$)},p(w,L){L&2&&t!==(t=w[8].title+"")&&Z(n,t),L&2&&s!==(s=w[8].type+"")&&Z(a,s),L&2&&u!==(u=w[5][w[8].dateObj.getMonth(w[8].dateObj)]+"")&&Z(f,u),L&2&&v!==(v=w[8].dateObj.getDate()+"")&&Z(b,v)},d(w){w&&y(e)}}}function cn(i){let e;function l(r,o){return r[2].title==r[8].title?ma:ha}let t=l(i),n=t(i);return{c(){n.c(),e=Q()},m(r,o){n.m(r,o),T(r,e,o)},p(r,o){t===(t=l(r))&&n?n.p(r,o):(n.d(1),n=t(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&y(e)}}}function ga(i){let e,l,t=i[1].title+"",n,r,o,s,a,c,h,u=i[1].weeks,f=[];for(let d=0;d<u.length;d+=1)f[d]=cn(sn(i,u,d));return{c(){e=_("table"),l=_("caption"),n=X(t),r=X(" : "),o=X(i[0]),s=C(),a=_("thead"),a.innerHTML=`<br/> 
        <tr><th class="w-1/3 text-center">Week No.</th> 
          <th class="w-1/3 text-center">Type</th> 
          <th class="w-1/3 text-center">Date Starts</th></tr>`,c=C(),h=_("tbody");for(let d=0;d<f.length;d+=1)f[d].c();p(h,"class","text-center"),p(e,"class","table-auto w-full text-base-content prose")},m(d,v){T(d,e,v),m(e,l),m(l,n),m(l,r),m(l,o),m(e,s),m(e,a),m(e,c),m(e,h);for(let b=0;b<f.length;b+=1)f[b].m(h,null)},p(d,v){if(v&2&&t!==(t=d[1].title+"")&&Z(n,t),v&1&&Z(o,d[0]),v&38){u=d[1].weeks;let b;for(b=0;b<u.length;b+=1){const $=sn(d,u,b);f[b]?f[b].p($,v):(f[b]=cn($),f[b].c(),f[b].m(h,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}},d(d){d&&y(e),ie(f,d)}}}function _a(i){let e,l,t=i[4]&&i[3]&&an(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,[r]){n[4]&&n[3]?t?(t.p(n,r),r&24&&g(t,1)):(t=an(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),k(t,1,1,()=>{t=null}),F())},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function ba(i,e,l){let t;ee(i,$t,u=>l(4,t=u));let n=null;const r=re("cache");let o="",s,a;const c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let h=!1;return vt(()=>{n=r.course,n&&(l(3,h=!0),l(0,o=n.lo.title),l(1,s=n.calendar),l(2,a=n.currentWeek))}),[o,s,a,h,t,c]}class va extends q{constructor(e){super();K(this,e,ba,_a,G,{})}}function ka(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function $a(i){let e,l,t=!i[2]&&un(i);return{c(){t&&t.c(),e=Q()},m(n,r){t&&t.m(n,r),T(n,e,r),l=!0},p(n,r){n[2]?t&&(W(),k(t,1,1,()=>{t=null}),F()):t?(t.p(n,r),r&4&&g(t,1)):(t=un(n),t.c(),g(t,1),t.m(e.parentNode,e))},i(n){l||(g(t),l=!0)},o(n){k(t),l=!1},d(n){t&&t.d(n),n&&y(e)}}}function un(i){let e,l,t,n,r,o,s,a;return t=new $n({props:{lo:i[3]}}),s=new Tt({props:{topic:i[3].parent}}),{c(){e=_("div"),l=_("div"),H(t.$$.fragment),r=C(),o=_("div"),H(s.$$.fragment),p(l,"class","flex-grow"),p(o,"class","hidden lg:block"),p(e,"class","h-screen flex")},m(c,h){T(c,e,h),m(e,l),A(t,l,null),m(e,r),m(e,o),A(s,o,null),a=!0},p(c,h){const u={};h&1&&(u.lo=c[3]),t.$set(u);const f={};h&1&&(f.topic=c[3].parent),s.$set(f)},i(c){a||(g(t.$$.fragment,c),pe(()=>{n||(n=ge(l,je,{},!0)),n.run(1)}),g(s.$$.fragment,c),a=!0)},o(c){k(t.$$.fragment,c),n||(n=ge(l,je,{},!1)),n.run(0),k(s.$$.fragment,c),a=!1},d(c){c&&y(e),U(t),c&&n&&n.end(),U(s)}}}function wa(i){return{c:S,m:S,p:S,i:S,o:S,d:S}}function ya(i){let e,l,t,n,r;document.title=e=i[1];let o={ctx:i,current:null,token:null,hasCatch:!1,pending:wa,then:$a,catch:ka,value:3,blocks:[,,,]};return he(n=i[4](i[0].wild),o),{c(){l=C(),t=Q(),o.block.c()},m(s,a){T(s,l,a),T(s,t,a),o.block.m(s,o.anchor=a),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(s,[a]){i=s,(!r||a&2)&&e!==(e=i[1])&&(document.title=e),o.ctx=i,a&1&&n!==(n=i[4](i[0].wild))&&he(n,o)||Oe(o,i,a)},i(s){r||(g(o.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const c=o.blocks[a];k(c)}r=!1},d(s){s&&y(l),s&&y(t),o.block.d(s),o.token=null,o=null}}}function Ta(i,e,l){let{params:t={}}=e;const n=re("cache"),r=re("analytics");let o="",s,a=!0;setTimeout(function(){l(2,a=!1)},500),Me(async()=>{Be({delay:800,element:"#top"})});async function c(h){Se.set(!1),await n.fetchCourseFromTalk(t.wild);const u=`/#/note/${t.wild}`;return l(3,s=n.course.notes.get(u)),r.pageLoad(t.wild,n.course,s),_e.set(s),l(1,o=s.title),s}return i.$$set=h=>{"params"in h&&l(0,t=h.params)},[t,o,a,s,c]}class La extends q{constructor(e){super();K(this,e,Ta,ya,G,{params:0})}}function Sa(i){let e,l;return e=new hi({props:{$$slots:{default:[Ia]},$$scope:{ctx:i}}}),{c(){H(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ca(i){let e,l,t;function n(o){i[2](o)}let r={};return i[0]!==void 0&&(r.authenticating=i[0]),e=new Ms({props:r}),dn.push(()=>mi(e,"authenticating",n)),{c(){H(e.$$.fragment)},m(o,s){A(e,o,s),t=!0},p(o,s){const a={};!l&&s&1&&(l=!0,a.authenticating=o[0],gi(()=>l=!1)),e.$set(a)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){k(e.$$.fragment,o),t=!1},d(o){U(e,o)}}}function Ia(i){let e,l,t,n,r,o,s,a,c,h;return e=new Bi({}),t=new pa({}),r=new va({}),s=new Ls({}),c=new _i({props:{routes:i[1]}}),{c(){H(e.$$.fragment),l=C(),H(t.$$.fragment),n=C(),H(r.$$.fragment),o=C(),H(s.$$.fragment),a=C(),H(c.$$.fragment)},m(u,f){A(e,u,f),T(u,l,f),A(t,u,f),T(u,n,f),A(r,u,f),T(u,o,f),A(s,u,f),T(u,a,f),A(c,u,f),h=!0},p:S,i(u){h||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(r.$$.fragment,u),g(s.$$.fragment,u),g(c.$$.fragment,u),h=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),k(r.$$.fragment,u),k(s.$$.fragment,u),k(c.$$.fragment,u),h=!1},d(u){U(e,u),u&&y(l),U(t,u),u&&y(n),U(r,u),u&&y(o),U(s,u),u&&y(a),U(c,u)}}}function Na(i){let e,l,t,n;const r=[Ca,Sa],o=[];function s(a,c){return a[0]?0:1}return l=s(i),t=o[l]=r[l](i),{c(){e=_("div"),t.c(),p(e,"id","top"),p(e,"class","tutors-container")},m(a,c){T(a,e,c),o[l].m(e,null),n=!0},p(a,[c]){let h=l;l=s(a),l===h?o[l].p(a,c):(W(),k(o[h],1,1,()=>{o[h]=null}),F(),t=o[l],t?t.p(a,c):(t=o[l]=r[l](a),t.c()),g(t,1),t.m(e,null))},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){a&&y(e),o[l].d()}}}function Ea(i,e,l){ut("cache",new Hs);const t=new Fs;ut("analytics",t),ut("metrics",new On);let n=!1;Me(async()=>{a();const h=document.location.href;if(h.includes("access_token")){const u=h.substring(h.indexOf("#")+1);Ds(u,t),l(0,n=!0)}else h.includes("/live")});let r={"/":Kt,"/unauthorised":Vi,"/course/*":kr,"/topic/*":Sr,"/talk/*":Ar,"/note/*":La,"/video/*":Vr,"/lab/*":eo,"/wall/*":Xr,"/authorize/":Kt,"/logout":Is,"/search/*":ca,"*":no};const o=document.getElementsByTagName("html")[0];let s=window.localStorage.getItem("site-theme");mt.indexOf(s)<0&&(s=null);function a(){s==null?(window.localStorage.setItem("site-theme","tutors"),window.localStorage.setItem("theme","tutors"),o.setAttribute("data-theme","tutors"),ht(gt.tutors)):(o.setAttribute("data-theme",s),ht(gt[s]))}function c(h){n=h,l(0,n)}return[n,r,c]}class Ma extends q{constructor(e){super();K(this,e,Ea,Na,G,{})}}new Ma({target:document.body});
